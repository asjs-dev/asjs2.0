;"use strict";function trace(){console.log(arguments);};function prop(t,pn,p){p.enumerable=true;p.configurable=true;Object.defineProperty(t,pn,p);};function cnst(t,pn,v){prop(t,pn,{get:function(){return v;}});};function roFunc(t,pn,f){cnst(t,pn,f);};var ASJS={t:{cc:function(t,p,a,oa){"asjstcc";(p||Object).apply(t,oa||a);var s={};for(var k in t){if(k!="$c"&&k!="construct"){if(Object.getOwnPropertyDescriptor(t,k).writable)s[k]=t[k];else prop(s,k,Object.getOwnPropertyDescriptor(t,k));}};return s;},c:function(t,s,a,f){"asjstc";if(!t.$c)t.$c=[];t.$c.push(f);if(a.callee.caller.toString().indexOf("asjstcc")==-1){while(t.$c.length>0){var _v0=t.$c.shift();if(typeof _v0=="function")_v0.call(t);};t.$c=null;delete t.$c;t.construct=null;delete t.construct;};return t;},bc:function(t,p,a,oa,b){"asjstbc";var s=ASJS.t.cc(t,p,a,oa);b(t,s);return s;}}};function createClass(t,p,oa,b){var h=arguments.callee.caller;var a=h.toString().indexOf("createSingletonClass")>-1?h.arguments.callee.caller.arguments:h.arguments;return ASJS.t.c(t,ASJS.t.bc(t,p,a,oa,b),a,t.construct);};function createSingletonClass(o,t,p,oa,b){var a=arguments.callee.caller.arguments.callee.caller;if(a.toString().indexOf("createClass")>-1)return createClass(t,p,oa,b);return o.$i||(o.$i=createClass(t,p,oa,b));};var sourcePath="";function sourcePath(v){if(sourcePath=="")sourcePath=v;};var includedScript={};function includeOnce(filename){if(includedScript[filename])return;includedScript[filename]=1;$.ajaxSetup({async:false});$.getScript(sourcePath+filename);$.ajaxSetup({async:true});};var stage;ASJS.inited=false;ASJS.start=function(baseClass){if(ASJS.inited)return;ASJS.inited=true;window.onload=function(){stage=new ASJS.Stage();stage.init();new baseClass();};};ASJS.Point=function(x,y){return createClass(this,Object,null,function(scp,spr){scp.x=x||0;scp.y=y||0;scp.construct=function(){}});};ASJS.Rectangle=function(x,y,width,height){return createClass(this,ASJS.Point,null,function(scp,spr){scp.width=width||0;scp.height=height||0;scp.construct=function(){}});};ASJS.Matrix=function(a,b,c,d,e,f){return createClass(this,Object,null,function(scp,spr){scp.a=a||1;scp.b=b||0;scp.c=c||0;scp.d=d||1;scp.e=e||0;scp.f=f||0;scp.construct=function(){};scp.translate=function(tx,ty){matrix.e=tx;matrix.f=ty;};scp.skew=function(sx,sy){matrix.b=sx;matrix.c=sy;};scp.scale=function(sw,sh){matrix.a=sw;matrix.d=sh;}});};ASJS.GeomUtils={};cnst(ASJS.GeomUtils,"THETA",Math.PI/180);roFunc(ASJS.GeomUtils,"pointInOrigo",function(point){return point.x==0&&point.y==0;});roFunc(ASJS.GeomUtils,"twoPointDistance",function(pointA,pointB){return Math.sqrt(Math.pow(pointB.x-pointA.x,2)+Math.pow(pointB.y-pointA.y,2));});roFunc(ASJS.GeomUtils,"pointInRect",function(point,_v8){return point.x>=_v8.x&&point.x<=_v8.x+_v8.width&&point.y>=_v8.y&&point.y<=_v8.y+_v8.height;});roFunc(ASJS.GeomUtils,"twoPointEquals",function(pointA,pointB){return pointA.x==pointB.x&&pointA.y==pointB.y;});roFunc(ASJS.GeomUtils,"twoPointAngle",function(pointA,pointB){var v=new ASJS.Point(pointB.x-pointA.x,pointB.y-pointA.y);var _v0=Math.acos(v.x/Math.sqrt(Math.pow(v.x,2)+Math.pow(v.y,2)));return _v0/ASJS.GeomUtils.THETA;});roFunc(ASJS.GeomUtils,"rectInRect",function(rectA,rectB){return rectA.x>=rectB.x&&rectA.y==rectB.y&&rectA.x+rectA.width<=rectB.x+rectB.width&&rectA.y+rectA.height<=rectB.y+rectB.height;});roFunc(ASJS.GeomUtils,"localToGlobal",function(target,point){var _v6=new ASJS.Point(point.x,point.y);var _v1=target;while(_v1){_v6.x*=_v1.scaleX;_v6.y*=_v1.scaleY;_v6.x+=_v1.x;_v6.y+=_v1.y;_v1=_v1.parent;};return _v6;});roFunc(ASJS.GeomUtils,"globalToLocal",function(target,point){var _v6=new ASJS.Point(point.x,point.y);var _v1=target;var _v2=[_v1];while(_v1){_v1=_v1.parent;_v2.unshift(_v1);};var i=0;var l=_v2.length;while(++i<l){_v1=_v2[i];_v6.x-=_v1.x;_v6.y-=_v1.y;_v6.x/=_v1.scaleX;_v6.y/=_v1.scaleY;};return _v6;});roFunc(ASJS.GeomUtils,"hitTest",function(target,point){var _v10=-target.rotation*ASJS.GeomUtils.THETA;var _v8=target.bounds;var _v4=target.localToGlobal(new ASJS.Point(0,0));var _v3=new ASJS.Point(point.x-(_v4.x+_v8.width*0.5),point.y-(_v4.y+_v8.height*0.5));var _v9=new ASJS.Point(_v3.x*Math.cos(_v10)-_v3.y*Math.sin(_v10),_v3.x*Math.sin(_v10)+_v3.y*Math.cos(_v10));var _v7=new ASJS.Point(point.x-(_v3.x-_v9.x),point.y-(_v3.y-_v9.y));var _v5=target.globalToLocal(_v7);return _v5.x>=0&&_v5.y>=0&&_v5.x<=_v8.width&&_v5.y<=_v8.height;});ASJS.MouseEvent={};cnst(ASJS.MouseEvent,"SCROLL","DOMMouseScroll mousewheel scroll");cnst(ASJS.MouseEvent,"CLICK","click");cnst(ASJS.MouseEvent,"DOUBLE_CLICK","dblclick");cnst(ASJS.MouseEvent,"MOUSE_DOWN","mousedown");cnst(ASJS.MouseEvent,"MOUSE_UP","mouseup");cnst(ASJS.MouseEvent,"MOUSE_LEAVE","mouseleave");cnst(ASJS.MouseEvent,"MOUSE_ENTER","mouseenter");cnst(ASJS.MouseEvent,"MOUSE_MOVE","mousemove");cnst(ASJS.MouseEvent,"MOUSE_OVER","mouseover");cnst(ASJS.MouseEvent,"MOUSE_OUT","mouseout");cnst(ASJS.MouseEvent,"TOUCH_START","touchstart");cnst(ASJS.MouseEvent,"TOUCH_END","touchend");cnst(ASJS.MouseEvent,"TOUCH_MOVE","touchmove");cnst(ASJS.MouseEvent,"TOUCH_CANCEL","touchcancel");cnst(ASJS.MouseEvent,"CONTEXT_MENU","contextmenu");cnst(ASJS.MouseEvent,"SELECT_START","onselectstart");ASJS.WindowEvent={};cnst(ASJS.WindowEvent,"POPSTATE","popstate");cnst(ASJS.WindowEvent,"RESIZE","resize");cnst(ASJS.WindowEvent,"ONLINE","online");cnst(ASJS.WindowEvent,"OFFLINE","offline");cnst(ASJS.WindowEvent,"MESSAGE","message");ASJS.Window=function(){return createSingletonClass(ASJS.Window,this,ASJS.EventDispatcher,[window],function(scp,spr){var _v1;var _v4;var _v2;var _v0;var _v3;var _v6;var _v5;scp.construct=function(){_v4=scp.el.requestAnimationFrame||scp.el.mozRequestAnimationFrame||scp.el.webkitRequestAnimationFrame||scp.el.msRequestAnimationFrame||function(f){return setTimeout(f,1)};_v2=scp.el.cancelAnimationFrame||scp.el.webkitCancelAnimationFrame;_v3=scp.el.navigator||navigator;_v0=scp.el.AudioContext||scp.el.webkitAudioContext;_v6=_v3.getUserMedia||_v3.webkitGetUserMedia||_v3.msGetUserMedia||_v3.mozGetUserMedia;_v5=scp.el.webkitURL||scp.el.URL;_v1=_v3.onLine?ASJS.WindowEvent.ONLINE:ASJS.WindowEvent.OFFLINE;scp.addEventListener(ASJS.WindowEvent.ONLINE+" "+ASJS.WindowEvent.OFFLINE,function(e){_v1=e.type;});};prop(scp,"isOnline",{get:function(){return _v1==ASJS.WindowEvent.ONLINE;}});prop(scp,"width",{get:function(){return scp.jQuery.width();}});prop(scp,"height",{get:function(){return scp.jQuery.height();}});prop(scp,"screen",{get:function(){return scp.el.screen;}});prop(scp,"screenTop",{get:function(){return scp.screen.availTop;}});prop(scp,"screenLeft",{get:function(){return scp.screen.availLeft;}});prop(scp,"screenWidth",{get:function(){return scp.screen.width;}});prop(scp,"screenHeight",{get:function(){return scp.screen.height;}});prop(scp,"screenAvailWidth",{get:function(){return scp.screen.availWidth;}});prop(scp,"screenAvailHeight",{get:function(){return scp.screen.availHeight;}});prop(scp,"url",{get:function(){return _v5;}});prop(scp,"navigator",{get:function(){return _v3;}});prop(scp,"audioContext",{get:function(){return _v0;}});prop(scp,"userMedia",{get:function(){return _v6;}});prop(scp,"devicePixelRatio",{get:function(){return scp.el.devicePixelRatio;}});prop(scp,"scrollTop",{get:function(){return scp.jQuery.scrollTop();},set:function(v){scp.jQuery.scrollTop(v);}});prop(scp,"scrollLeft",{get:function(){return scp.jQuery.scrollLeft();},set:function(v){scp.jQuery.scrollLeft(v);}});prop(scp,"location",{get:function(){return scp.el.location;},set:function(v){scp.el.location=v;}});scp.setTimeout=function(callback,duration){return scp.el.setTimeout(function(){scp.requestAnimationFrame(callback);},duration);};scp.clearTimeout=function(id){return scp.el.clearTimeout(id);};scp.setInterval=function(callback,duration){return scp.el.setInterval(function(){scp.requestAnimationFrame(callback);},duration);};scp.clearInterval=function(id){return scp.el.clearInterval(id);};scp.requestAnimationFrame=function(callback){_v4(callback);};scp.cancelAnimationFrame=function(id){_v2(id);}});};ASJS.EventDispatcher=function(tag){return createClass(this,Object,null,function(scp,spr){scp.jQuery=$(tag||"<div />");scp.construct=function(){};prop(scp,"el",{get:function(){return scp.jQuery[0];}});scp.dispatchEvent=function(type,data,bubble){var _v1=bubble==undefined?true:bubble;if(_v1)scp.jQuery.trigger(type,data);else scp.jQuery.triggerHandler(type,data);};scp.addEventListener=function(type,callback){if(type==ASJS.MouseEvent.SCROLL&&scp.jQuery==new ASJS.Window().jQuery)scp.jQuery.scroll(callback);else scp.jQuery.on(type,callback);};scp.removeEventListeners=function(){scp.jQuery.off();};scp.removeEventListener=function(type,callback){scp.jQuery.off(type,null,callback);};scp.hasEventListener=function(which,handler){var _v2=$._data(scp.el,"events");if(_v2==undefined)return false;var w=which.indexOf(" ")>-1?which.split(" "):[which];var i=-1;var l=w.length;while(++i<l){var _v0=_v2[w[i]];if(_v0!=undefined){var j=-1;var k=_v0.length;while(++j<k){if(_v0[j].handler==handler)return true;}}};return false;};});};ASJS.Event={};cnst(ASJS.Event,"CHANGE","change");ASJS.KeyboardEvent={};cnst(ASJS.KeyboardEvent,"KEY_UP","keyup");cnst(ASJS.KeyboardEvent,"KEY_DOWN","keydown");cnst(ASJS.KeyboardEvent,"KEY_PRESS","keypress");ASJS.FocusEvent={};cnst(ASJS.FocusEvent,"FOCUS","focus");cnst(ASJS.FocusEvent,"BLUR","blur");ASJS.MediaEvent={};cnst(ASJS.MediaEvent,"ABORT","abort");cnst(ASJS.MediaEvent,"CAN_PLAY","canplay");cnst(ASJS.MediaEvent,"CAN_PLAY_THROUGH","canplaythrough");cnst(ASJS.MediaEvent,"DURATION_CHANGE","durationchange");cnst(ASJS.MediaEvent,"EMPTIED","emptied");cnst(ASJS.MediaEvent,"ENDED","ended");cnst(ASJS.MediaEvent,"ERROR","error");cnst(ASJS.MediaEvent,"LOADED_DATA","loadeddata");cnst(ASJS.MediaEvent,"LOADED_META_DATA","loadedmetadata");cnst(ASJS.MediaEvent,"LOAD_START","loadstart");cnst(ASJS.MediaEvent,"PAUSE","pause");cnst(ASJS.MediaEvent,"PLAY","play");cnst(ASJS.MediaEvent,"PLAYING","playing");cnst(ASJS.MediaEvent,"PROGRESS","progress");cnst(ASJS.MediaEvent,"RATE_CHANGE","ratechange");cnst(ASJS.MediaEvent,"SEEKED","seeked");cnst(ASJS.MediaEvent,"SEEKING","seeking");cnst(ASJS.MediaEvent,"STALLED","stalled");cnst(ASJS.MediaEvent,"SUSPEND","suspend");cnst(ASJS.MediaEvent,"TIME_UPDATE","timeupdate");cnst(ASJS.MediaEvent,"VOLUME_CHANGE","volumechange");cnst(ASJS.MediaEvent,"WAITING","waiting");ASJS.LoaderEvent={};cnst(ASJS.LoaderEvent,"ERROR","error");cnst(ASJS.LoaderEvent,"ABORT","abort");cnst(ASJS.LoaderEvent,"LOAD_START","loadstart");cnst(ASJS.LoaderEvent,"PROGRESS","progress");cnst(ASJS.LoaderEvent,"LOAD","load");cnst(ASJS.LoaderEvent,"LOAD_END","loadend");cnst(ASJS.LoaderEvent,"TIMEOUT","timeout");cnst(ASJS.LoaderEvent,"READY_STATE_CHANGE","readystatechange");ASJS.Keyboard=function(){return createClass(this,Object,null,function(scp,spr){var _v3=new ASJS.Window();var _v1={};var _v0;var _v2;scp.construct=function(){};scp.isPressed=function(w){return _v1[w];};scp.addKeyListener=function(target,downCallback,upCallback){if(!target)return;_v0=downCallback;_v2=upCallback;scp.removeKeyListener(target);target.addEventListener(ASJS.KeyboardEvent.KEY_DOWN,_v5);target.addEventListener(ASJS.KeyboardEvent.KEY_UP,_v6);_v3.addEventListener(ASJS.FocusEvent.BLUR,_v4);};scp.removeKeyListener=function(target){target.removeEventListener(ASJS.KeyboardEvent.KEY_DOWN,_v5);target.removeEventListener(ASJS.KeyboardEvent.KEY_UP,_v6);_v3.removeEventListener(ASJS.FocusEvent.BLUR,_v4);};function _v4(){for(var k in _v1)_v1[k]=false;};function _v5(e){_v1[e.which]=true;if(_v0)_v0();};function _v6(e){_v1[e.which]=false;if(_v2)_v2();};});};cnst(ASJS.Keyboard,"SPACE",32);cnst(ASJS.Keyboard,"BACKSPACE",8);cnst(ASJS.Keyboard,"TAB",9);cnst(ASJS.Keyboard,"ENTER",13);cnst(ASJS.Keyboard,"SHIFT",16);cnst(ASJS.Keyboard,"CTRL",17);cnst(ASJS.Keyboard,"ALT",18);cnst(ASJS.Keyboard,"PAUSE_BREAK",19);cnst(ASJS.Keyboard,"CAPS_LOCK",20);cnst(ASJS.Keyboard,"ESCAPE",27);cnst(ASJS.Keyboard,"PAGE_UP",33);cnst(ASJS.Keyboard,"PAGE_DOWN",34);cnst(ASJS.Keyboard,"END",35);cnst(ASJS.Keyboard,"HOME",36);cnst(ASJS.Keyboard,"LEFT_ARROW",37);cnst(ASJS.Keyboard,"UP_ARROW",38);cnst(ASJS.Keyboard,"RIGHT_ARROW",39);cnst(ASJS.Keyboard,"DOWN_ARROW",40);cnst(ASJS.Keyboard,"INSERT",45);cnst(ASJS.Keyboard,"DELETE",46);cnst(ASJS.Keyboard,"NUM_0",48);cnst(ASJS.Keyboard,"NUM_1",49);cnst(ASJS.Keyboard,"NUM_2",50);cnst(ASJS.Keyboard,"NUM_3",51);cnst(ASJS.Keyboard,"NUM_4",52);cnst(ASJS.Keyboard,"NUM_5",53);cnst(ASJS.Keyboard,"NUM_6",54);cnst(ASJS.Keyboard,"NUM_7",55);cnst(ASJS.Keyboard,"NUM_8",56);cnst(ASJS.Keyboard,"NUM_9",57);cnst(ASJS.Keyboard,"A",65);cnst(ASJS.Keyboard,"B",66);cnst(ASJS.Keyboard,"C",67);cnst(ASJS.Keyboard,"D",68);cnst(ASJS.Keyboard,"E",69);cnst(ASJS.Keyboard,"F",70);cnst(ASJS.Keyboard,"G",71);cnst(ASJS.Keyboard,"H",72);cnst(ASJS.Keyboard,"I",73);cnst(ASJS.Keyboard,"J",74);cnst(ASJS.Keyboard,"K",75);cnst(ASJS.Keyboard,"L",76);cnst(ASJS.Keyboard,"M",77);cnst(ASJS.Keyboard,"N",78);cnst(ASJS.Keyboard,"O",79);cnst(ASJS.Keyboard,"P",80);cnst(ASJS.Keyboard,"Q",81);cnst(ASJS.Keyboard,"R",82);cnst(ASJS.Keyboard,"S",83);cnst(ASJS.Keyboard,"T",84);cnst(ASJS.Keyboard,"U",85);cnst(ASJS.Keyboard,"V",86);cnst(ASJS.Keyboard,"W",87);cnst(ASJS.Keyboard,"X",88);cnst(ASJS.Keyboard,"Y",89);cnst(ASJS.Keyboard,"Z",90);cnst(ASJS.Keyboard,"LEFT_WINDOW_KEY",91);cnst(ASJS.Keyboard,"RIGHT_WINDOW_KEY",92);cnst(ASJS.Keyboard,"SELECT_KEY",93);cnst(ASJS.Keyboard,"NUMPAD_0",96);cnst(ASJS.Keyboard,"NUMPAD_1",97);cnst(ASJS.Keyboard,"NUMPAD_2",98);cnst(ASJS.Keyboard,"NUMPAD_3",99);cnst(ASJS.Keyboard,"NUMPAD_4",100);cnst(ASJS.Keyboard,"NUMPAD_5",101);cnst(ASJS.Keyboard,"NUMPAD_6",102);cnst(ASJS.Keyboard,"NUMPAD_7",103);cnst(ASJS.Keyboard,"NUMPAD_8",104);cnst(ASJS.Keyboard,"NUMPAD_9",105);cnst(ASJS.Keyboard,"MULTIPLY",106);cnst(ASJS.Keyboard,"ADD",107);cnst(ASJS.Keyboard,"SUBTRACT",109);cnst(ASJS.Keyboard,"DECIMAL_POINT",110);cnst(ASJS.Keyboard,"DIVIDE",111);cnst(ASJS.Keyboard,"F1",112);cnst(ASJS.Keyboard,"F2",113);cnst(ASJS.Keyboard,"F3",114);cnst(ASJS.Keyboard,"F4",115);cnst(ASJS.Keyboard,"F5",116);cnst(ASJS.Keyboard,"F6",117);cnst(ASJS.Keyboard,"F7",118);cnst(ASJS.Keyboard,"F8",119);cnst(ASJS.Keyboard,"F9",120);cnst(ASJS.Keyboard,"F10",121);cnst(ASJS.Keyboard,"F11",122);cnst(ASJS.Keyboard,"F12",123);cnst(ASJS.Keyboard,"NUM_LOCK",144);cnst(ASJS.Keyboard,"SCROLL_LOCK",145);cnst(ASJS.Keyboard,"SEMICOLON",186);cnst(ASJS.Keyboard,"EQUAL_SIGN",187);cnst(ASJS.Keyboard,"COMMA",188);cnst(ASJS.Keyboard,"DASH",189);cnst(ASJS.Keyboard,"PERIOD",190);cnst(ASJS.Keyboard,"FORWARD_SLASH",191);cnst(ASJS.Keyboard,"GRAVE_ACCENT",192);cnst(ASJS.Keyboard,"OPEN_BRACKET",219);cnst(ASJS.Keyboard,"BACK_SLASH",220);cnst(ASJS.Keyboard,"CLOSE_BRAKET",221);cnst(ASJS.Keyboard,"SINGLE_QUOTE",222);ASJS.Mouse=function(){return createSingletonClass(ASJS.Mouse,this,Object,null,function(scp,spr){var _v5={};cnst(_v5,"EVENT",ASJS.MouseEvent.MOUSE_MOVE+" "+ASJS.MouseEvent.TOUCH_MOVE);var _v1=new ASJS.Window();var _v0=new ASJS.Point();scp.construct=function(){};prop(scp,"mouseX",{get:function(){return _v0.x;}});prop(scp,"mouseY",{get:function(){return _v0.y;}});scp.show=function(){stage.setCSS("cursor","default");};scp.hide=function(){stage.setCSS("cursor","none");};scp.getRelativePosition=function(target){return target.globalToLocal(_v0);};scp.init=function(){if(stage&&!_v1.hasEventListener(_v5.EVENT,_v4))_v1.addEventListener(_v5.EVENT,_v4);};scp.getTouchPointByEvent=function(e){var _v3=e.touches;var _v2=(e.originalEvent?e.originalEvent.touches:null);var _v7=_v3||_v2;if(_v7&&_v7.length>0){var _v6=_v7[0];return new ASJS.Point(_v6.pageX,_v6.pageY);};return new ASJS.Point(e.pageX,e.pageY);};function _v4(e){_v0=scp.getTouchPointByEvent(e);};});};ASJS.Cycler=function(){return createSingletonClass(ASJS.Cycler,this,Object,null,function(scp,spr){var _v5=new ASJS.Window();var _v3=false;var _v1=24;var _v2=_v6();var _v0=[];var _v4;scp.construct=function(){};prop(scp,"isPlaying",{get:function(){return _v3;}});prop(scp,"fps",{get:function(){return _v1;},set:function(v){_v1=v;_v2=_v6();scp.start();}});scp.addCallback=function(callback){if(!scp.callbackExists(callback))_v0.push(callback);};scp.removeCallback=function(callback){if(!scp.callbackExists(callback))return;var i=-1;var l=_v0.length;var _v7;while(++i<l){if(_v0[i]==callback)_v7=i;};_v0.splice(_v7,1);};scp.callbackExists=function(callback){var i=-1;var l=_v0.length;while(++i<l){if(_v0[i]==callback)return true;};return false;};scp.start=function(){_v3=true;_v8();};scp.stop=function(){_v3=false;_v4=_v5.clearTimeout(_v4);};function _v8(){_v4=_v5.clearTimeout(_v4);var i=-1;var l=_v0.length;while(++i<l){if(_v0[i])_v0[i]();};_v4=_v5.setTimeout(_v8,_v2);};function _v6(){return 1000/_v1;};});};ASJS.Head=function(){return createSingletonClass(ASJS.Head,this,Object,null,function(scp,spr){var _v0=[];var _v1=$("head");scp.construct=function(){};prop(scp,"el",{get:function(){return _v1;}});prop(scp,"numChildren",{get:function(){return _v0.length;}});scp.addChild=function(child){if(!child)return null;if(child.parent)child.parent.removeChild(child);child.enabled=child.enabled?_mouseChildren:child.enabled;_v0.push(child);_v1.append(child.el);child.parent=scp;return child;};scp.removeChild=function(child){if(!child)return null;child.jQuery.detach();var _v3=_v2(child);if(_v3>-1)_v0.splice(_v3,1);child.parent=null;return child;};scp.contains=function(child){return _v2(child)>-1;};function _v2(child){return!child?-1:_v0.indexOf(child);}});};ASJS.PrimitiveDisplayObject=function(tag){return createClass(this,ASJS.EventDispatcher,null,function(scp,spr){scp.construct=function(){};prop(scp,"text",{get:function(){return scp.jQuery.text();},set:function(v){scp.jQuery.text(v);}});scp.getAttr=function(k){return scp.jQuery.attr(k);};scp.setAttr=function(k,v){scp.jQuery.attr(k,v);};scp.removeAttr=function(k){scp.jQuery.removeAttr(k);};scp._sendParentChangeEvent=function(){};});};ASJS.CSS=function(){return createSingletonClass(ASJS.CSS,this,Object,null,function(scp,spr){var _v8=new ASJS.Window();var _v4=new ASJS.Head();var _v9;var _v10;scp.construct=function(){_v11();};prop(scp,"styles",{get:function(){return _v10;}});scp.getRuleBySelector=function(s){var i=-1;var l=_v10.length;while(++i<l){var _v3=_v10[i].rule;if(_v3.selectorText==s)return _v3;};return null;};scp.getRuleExists=function(s){return scp.getRuleBySelector(s)!=null;};scp.getPropertyFromRule=function(s,t){var r=scp.getRuleBySelector(s);return!r?null:r.style[t];};scp.setPropertyToRule=function(s,t,v){var r=scp.getRuleBySelector(s);if(r){r.style[t]=v;_v11();}};scp.addRule=function(s,t){if(scp.getRuleBySelector(s))return;_v7();_v9.el.sheet.insertRule(s+"{"+(t||"")+"}",0);_v11();};scp.removeRule=function(s){var _v1=_v6();var i=-1;var l=_v10.length;while(++i<l){var _v3=_v10[i];if(_v3.rule.selectorText==s){_v1[_v3.sheetId].deleteRule(_v3.ruleId);_v11();return;}}};function _v11(){var _v1=_v6();var i=-1;var l=_v1.length;_v10=[];while(++i<l){var _v2=_v1[i].cssRules;var j=-1;var m=_v2.length;while(++j<m)_v10.push(new _v0(i,j,_v2[j]));}};function _v6(){return document.styleSheets;};function _v5(){return _v9;};function _v7(){if(_v5())return;_v9=new ASJS.PrimitiveDisplayObject("<_v2 />");_v9.setAttr("type","text/css");_v4.addChild(_v9);};var _v0=function(sheetId,ruleId,_v3){return createClass(this,Object,null,function(scp,spr){scp.sheetId=sheetId;scp.ruleId=ruleId;scp.rule=_v3;scp.construct=function(){}});};});};prop(ASJS.CSS,"styles",{get:function(){return(new ASJS.CSS()).styles;}});roFunc(ASJS.CSS,"getRuleBySelector",function(s){return(new ASJS.CSS()).getRuleBySelector(s);});roFunc(ASJS.CSS,"getRuleExists",function(s){return(new ASJS.CSS()).getRuleExists(s);});roFunc(ASJS.CSS,"getPropertyFromRule",function(s,t){return(new ASJS.CSS()).getPropertyFromRule(s,t);});roFunc(ASJS.CSS,"setPropertyToRule",function(s,t,v){(new ASJS.CSS()).setPropertyToRule(s,t,v);});roFunc(ASJS.CSS,"addRule",function(s,t){(new ASJS.CSS()).addRule(s,t);});roFunc(ASJS.CSS,"removeRule",function(s){(new ASJS.CSS()).removeRule(s);});ASJS.RequestMethod={};cnst(ASJS.RequestMethod,"DELETE","DELETE");cnst(ASJS.RequestMethod,"GET","GET");cnst(ASJS.RequestMethod,"HEAD","HEAD");cnst(ASJS.RequestMethod,"OPTIONS","OPTIONS");cnst(ASJS.RequestMethod,"POST","POST");cnst(ASJS.RequestMethod,"PUT","PUT");ASJS.Loader=function(){return createClass(this,ASJS.EventDispatcher,null,function(scp,spr){var _v2={};cnst(_v2,"PRIVATE_CONST",0);var _v0=true;var _v16=ASJS.RequestMethod.GET;var _v17={};var _v13="text";var _v14;var _v11;var _v15;var _v12;var _v10;scp.construct=function(){_v18();};prop(scp,"url",{get:function(){return _v12;}});prop(scp,"content",{get:function(){return _v14.response;}});prop(scp,"status",{get:function(){return _v14.status;}});prop(scp,"statusText",{get:function(){return _v14.statusText;}});prop(scp,"readyState",{get:function(){return _v14.readyState;}});prop(scp,"contentType",{set:function(v){_v17["Content-type"]=v;}});prop(scp,"username",{set:function(v){_v11=v;}});prop(scp,"password",{set:function(v){_v15=v;}});prop(scp,"data",{set:function(v){_v10=v;}});prop(scp,"async",{set:function(v){_v0=v;}});prop(scp,"method",{set:function(v){_v16=v;}});prop(scp,"responseType",{set:function(v){_v13=v;}});scp.unload=function(){scp.free();};scp.setHeader=function(k,v){_v17[k]=v;};scp.getHeader=function(k){return _v14.getRequestHeader(k);};scp.cancel=function(){_v14.abort();};scp.load=function(url){if(!url)return;_v12=url;_v14.open(_v16,_v12,_v0,_v11,_v15);_v14.responseType=_v13;for(var k in _v17)_v14.setRequestHeader(k,_v17[k]);_v14.send(_v10);};scp.free=function(){_v18();};function _v18(){_v14=null;_v14=new XMLHttpRequest();if("withCredentials"in _v14){}else if(typeof XDomainRequest!="undefined"){_v14=new XDomainRequest();}else _v14=null;if(_v14==null)throw new Error("CORS not supported");_v14.withCredentials=true;_v14.addEventListener(ASJS.LoaderEvent.READY_STATE_CHANGE,_v4);_v14.addEventListener(ASJS.LoaderEvent.PROGRESS,_v5);_v14.addEventListener(ASJS.LoaderEvent.LOAD,_v8);_v14.addEventListener(ASJS.LoaderEvent.ERROR,_v1);_v14.addEventListener(ASJS.LoaderEvent.ABORT,_v9);_v14.addEventListener(ASJS.LoaderEvent.LOAD_START,_v6);_v14.addEventListener(ASJS.LoaderEvent.TIMEOUT,_v3);_v14.addEventListener(ASJS.LoaderEvent.LOAD_END,_v7);};function _v4(e){scp.dispatchEvent(ASJS.LoaderEvent.READY_STATE_CHANGE,e);};function _v6(){scp.dispatchEvent(ASJS.LoaderEvent.LOAD_START);};function _v5(e){if(e.lengthComputable)scp.dispatchEvent(ASJS.LoaderEvent.PROGRESS,e);};function _v8(e){scp.dispatchEvent(ASJS.LoaderEvent.LOAD,e);};function _v9(e){scp.dispatchEvent(ASJS.LoaderEvent.ABORT,e);};function _v3(e){scp.dispatchEvent(ASJS.LoaderEvent.TIMEOUT,e);};function _v7(e){scp.dispatchEvent(ASJS.LoaderEvent.LOAD_END,e);};function _v1(e){scp.dispatchEvent(ASJS.LoaderEvent.ERROR,e);};});};ASJS.ScriptLoader=function(){return createClass(this,ASJS.Loader,null,function(scp,spr){var _v1=new ASJS.Head();var _v2=ASJS.ScriptLoader.TYPE_EVALUATE;var _v0;scp.construct=function(){};prop(scp,"type",{get:function(){return _v2;},set:function(v){_v2=v;}});prop(scp,"content",{get:function(){if(!_v0&&spr.content!=""){_v0=_v2==ASJS.ScriptLoader.TYPE_EVALUATE?_v3():_v4();scp.free();};return _v0;}});scp.unload=function(){_v0=null;spr.unload();};scp.load=function(url){scp.unload();spr.load(url);};function _v3(){return new Function(spr.content+" return Main;")();};function _v4(){var id="ew"+(++ASJS.ScriptLoader.scripts);var _v5=new ASJS.PrimitiveDisplayObject("<_v5 />");_v5.setAttr("type","text/javascript");_v5.text="ASJS."+id+" = function(){"+spr.content+"return Main;};";_v1.addChild(_v5);_v1.removeChild(_v5);_v5=null;delete _v5;return ASJS[id]();}});};cnst(ASJS.ScriptLoader,"TYPE_EVALUATE","ASJS-ScriptLoader-typeEvaluate");cnst(ASJS.ScriptLoader,"TYPE_IMPORT","ASJS-ScriptLoader-typeImport");ASJS.ScriptLoader.scripts=0;ASJS.StyleLoader=function(){return createClass(this,ASJS.Loader,null,function(scp,spr){var _v0=new ASJS.Head();var _v1;scp.construct=function(){};scp.useStyle=function(){if(_v1||spr.content=="")return;_v1=new ASJS.PrimitiveDisplayObject("<style />");_v1.setAttr("type","text/css");_v1.text=spr.content;_v0.addChild(_v1);scp.free();};scp.unload=function(){if(_v1&&_v0.contains(_v1))_v0.removeChild(_v1);_v1=null;spr.unload();};scp.load=function(url){scp.unload();spr.load(url);}});};ASJS.DisplayObject=function(tag){return createClass(this,ASJS.PrimitiveDisplayObject,null,function(scp,spr){var _v2={};cnst(_v2,"CREATED","created");var _v18=new ASJS.Mouse();var _v13=_v2.CREATED;var _v8=[];var _v16=0;var _v15=1;var _v14=1;var _v17=null;var _v0="block";scp.construct=function(){scp.id="intance_"+ASJS.DisplayObject.instanceId;scp.tabindex=-1;scp.setCSS("pointer-events","auto");scp.setCSS("position","absolute");scp.setCSS("display",_v0);scp.setSize(0,0);scp.move(0,0);ASJS.DisplayObject.instanceId++;};prop(scp,"bounds",{get:function(){return new ASJS.Rectangle(scp.calcX,scp.calcY,scp.calcWidth,scp.calcHeight);}});prop(scp,"calcX",{get:function(){return scp.x+(parseFloat(scp.getCSS("marginLeft"))||0);}});prop(scp,"calcY",{get:function(){return scp.y+(parseFloat(scp.getCSS("marginTop"))||0);}});prop(scp,"calcWidth",{get:function(){var _v5=parseFloat(scp.getCSS("paddingLeft"))||0;var _v4=parseFloat(scp.getCSS("paddingRight"))||0;var _v11=parseFloat(scp.getCSS("borderLeft"))||0;var _v10=parseFloat(scp.getCSS("borderRight"))||0;return scp.width+_v5+_v4+_v11+_v10;}});prop(scp,"calcHeight",{get:function(){var _v3=parseFloat(scp.getCSS("paddingTop"))||0;var _v6=parseFloat(scp.getCSS("paddingBottom"))||0;var _v9=parseFloat(scp.getCSS("borderTop"))||0;var _v12=parseFloat(scp.getCSS("borderBottom"))||0;return scp.height+_v3+_v6+_v9+_v12;}});prop(scp,"stage",{get:function(){return scp.parent?scp.parent.stage:null;}});prop(scp,"mouse",{get:function(){return _v18.getRelativePosition(scp);}});prop(scp,"tabIndex",{get:function(){return scp.getAttr("tabindex");},set:function(v){scp.setAttr("tabindex",v);}});prop(scp,"tooltip",{get:function(){return scp.setAttr("title");},set:function(v){scp.setAttr("title",v);}});prop(scp,"filters",{get:function(){return _v8;},set:function(v){_v8=v;var _v1="";var i=-1;var l=_v8.length;while(++i<l)_v1+=" "+_v8[i].execute();scp.setCSS("-webkit-filter",_v1);scp.setCSS("filter",_v1);}});prop(scp,"id",{get:function(){return scp.getAttr("id");},set:function(v){scp.setAttr("id",v);}});prop(scp,"enabled",{get:function(){return scp.getAttr("disabled")!="disabled";},set:function(v){if(v){scp.removeAttr("disabled");scp.setCSS("pointer-events","auto");}else{scp.setAttr("disabled","disabled");scp.setCSS("pointer-events","none");}}});prop(scp,"display",{get:function(){return _v0;},set:function(v){_v0=v;scp.setCSS("display",_v0);}});prop(scp,"html",{get:function(){return scp.jQuery.html();},set:function(v){scp.jQuery.html(v);}});prop(scp,"visible",{get:function(){return scp.getCSS("display")!="none";},set:function(v){scp.setCSS("display",v?_v0:"none");}});prop(scp,"alpha",{get:function(){return parseFloat(scp.getCSS("opacity"));},set:function(v){scp.setCSS("opacity",v);}});prop(scp,"x",{get:function(){return(parseFloat(scp.getCSS("left"))||0)-(scp.width-scp.width/_v15)*0.5;},set:function(v){scp.setCSS("left",v+(scp.width-scp.width/_v15)*0.5);}});prop(scp,"y",{get:function(){return(parseFloat(scp.getCSS("top"))||0)-(scp.height-scp.height/_v14)*0.5;},set:function(v){scp.setCSS("top",v+(scp.height-scp.height/_v14)*0.5);}});prop(scp,"width",{get:function(){return scp.jQuery.width()*_v15;},set:function(v){scp.setCSS("width",typeof v!="number"?v:(parseFloat(v)/_v15));}});prop(scp,"height",{get:function(){return scp.jQuery.height()*_v14;},set:function(v){scp.setCSS("height",typeof v!="number"?v:(parseFloat(v)/_v14));}});prop(scp,"rotation",{get:function(){return _v16;},set:function(v){_v16=parseFloat(v);_v7();}});prop(scp,"scaleX",{get:function(){return _v15;},set:function(v){_v15=parseFloat(v);var oW=scp.width/_v15;scp.x+=(scp.width-oW)*0.5;_v7();}});prop(scp,"scaleY",{get:function(){return _v14;},set:function(v){_v14=parseFloat(v);var oH=scp.height/_v14;scp.y+=(scp.height-oH)*0.5;_v7();}});prop(scp,"parent",{get:function(){return _v17;},set:function(v){if(v==null||v.getChildIndex(scp)>-1){_v17=v;scp._sendParentChangeEvent();}}});scp.requestFullscreen=function(){if(!ASJS.DisplayObject.FULLSCREEN_ENABLED)return;if(scp.el.requestFullscreen)scp.el.requestFullscreen();else if(scp.el.webkitRequestFullscreen)scp.el.webkitRequestFullscreen();else if(scp.el.mozRequestFullScreen)scp.el.mozRequestFullScreen();else if(scp.el.msRequestFullscreen)scp.el.msRequestFullscreen();};scp.exitFullscreen=function(){if(!ASJS.DisplayObject.FULLSCREEN_ENABLED)return;if(document.exitFullscreen)document.exitFullscreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else if(document.msExitFullscreen)document.msExitFullscreen();};scp.scale=function(scaleX,scaleY){scp.scaleX=scaleX;scp.scaleY=scaleY;};scp.clear=function(){scp.html="";scp.text="";};scp._sendParentChangeEvent=function(){var _v19=scp.stage?ASJS.Stage.ADDED_TO_STAGE:ASJS.Stage.REMOVED_FROM_STAGE;if(_v13!=_v2.CREATED||_v19!=ASJS.Stage.REMOVED_FROM_STAGE)scp.dispatchEvent(_v19,null,false);_v13=_v19;};scp.getCSS=function(k){return scp.jQuery.css(k);};scp.setCSS=function(k,v){scp.jQuery.css(k,v);};scp.addClass=function(v){return scp.jQuery.addClass(v);};scp.removeClass=function(v){scp.jQuery.removeClass(v);};scp.move=function(x,y){scp.x=x;scp.y=y;};scp.setSize=function(w,h){scp.width=w;scp.height=h;};scp.hitTest=function(point){return ASJS.GeomUtils.hitTest(scp,point);};scp.localToGlobal=function(point){return ASJS.GeomUtils.localToGlobal(scp,point);};scp.globalToLocal=function(point){return ASJS.GeomUtils.globalToLocal(scp,point);};function _v7(){scp.setCSS("transform",'rotate('+_v16+'deg) scaleX('+_v15+') scaleY('+_v14+')');}});};cnst(ASJS.DisplayObject,"FULLSCREEN_ENABLED",document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled);ASJS.DisplayObject.instanceId=0;ASJS.Sprite=function(tag){return createClass(this,ASJS.DisplayObject,null,function(scp,spr){var _v0=[];var _v3=true;scp.construct=function(){};prop(scp,"bounds",{get:function(){var _v1=spr.bounds;var _v11=new ASJS.Rectangle();var i=-1;var l=scp.numChildren;while(++i<l){var _v9=scp.getChildAt(i);var _v5=_v9.bounds;if(i==0){_v11.x=_v5.x;_v11.y=_v5.y;_v11.width=_v5.width+_v5.x;_v11.height=_v5.height+_v5.y;}else{if(_v5.x<_v11.x)_v11.x=_v5.x;if(_v5.y<_v11.y)_v11.y=_v5.y;if(_v5.width+_v5.x>_v11.width)_v11.width=_v5.width+_v5.x;if(_v5.height+_v5.y>_v11.height)_v11.height=_v5.height+_v5.y;}};_v1.x+=_v11.x;_v1.y+=_v11.y;if(_v11.width-_v11.x>_v1.width)_v1.width=_v11.width-_v11.x;if(_v11.height-_v11.y>_v1.height)_v1.height=_v11.height-_v11.y;return _v1;}});prop(scp,"mouseChildren",{get:function(){return _v3;},set:function(v){_v3=v;var i=-1;var l=scp.numChildren;while(++i<l)scp.getChildAt(i).enabled=_v3;}});prop(scp,"numChildren",{get:function(){return _v0.length;}});scp.clear=function(){while(scp.numChildren>0)scp.removeChildAt(0);spr.clear();};scp.contains=function(_v9){return scp.getChildIndex(_v9)>-1;};scp.addChild=function(_v9){return scp.addChildAt(_v9,scp.numChildren);};scp.addChildAt=function(_v9,_v2){if(!_v9)return null;if(_v9.parent)_v9.parent.removeChild(_v9);scp.jQuery.append(_v9.jQuery);_v9.enabled=_v9.enabled?_v3:_v9.enabled;_v0.push(_v9);scp.setChildIndex(_v9,_v2);_v9.parent=scp;return _v9;};scp.removeChild=function(_v9){if(!_v9)return null;_v9.jQuery.detach();var _v2=scp.getChildIndex(_v9);if(_v2>-1)_v0.splice(_v2,1);_v9.parent=null;return _v9;};scp.removeChildAt=function(_v2){return scp.removeChild(scp.getChildAt(_v2));};scp.getChildAt=function(_v2){return _v2<0||_v2>scp.numChildren-1?null:_v0[_v2];};scp.setChildIndex=function(_v9,_v2){if(!_v9||_v2<0)return null;var _v7=scp.getChildIndex(_v9);if(_v7>-1)_v0.splice(_v7,1);var _v10=scp.getChildAt(_v2);if(_v10)_v9.jQuery.insertBefore(_v10.jQuery);_v0.splice(_v2,0,_v9);return _v9;};scp.getChildIndex=function(_v9){return!_v9?-1:_v0.indexOf(_v9);};scp.swapChildren=function(childA,childB){var _v8=scp.getChildIndex(childA);var _v6=scp.getChildIndex(childB);if(_v8==-1||_v6==-1)return false;scp.setChildIndex(childA,_v6);scp.setChildIndex(childB,_v8);return true;};scp.getChildByDOMObject=function(domObject){if(!domObject)return null;var i=-1;var l=scp.numChildren;while(++i<l){var _v9=scp.getChildAt(i);if(domObject.id==_v9.id)return _v9;else if(_v9.numChildren){var _v4=_v9.getChildByDOMObject(domObject);if(_v4)return _v4;}};return null;};scp._sendParentChangeEvent=function(){spr._sendParentChangeEvent();var i=-1;var l=scp.numChildren;while(++i<l)scp.getChildAt(i)._sendParentChangeEvent();}});};ASJS.Stage=function(){return createSingletonClass(ASJS.Stage,this,ASJS.Sprite,["body"],function(scp,spr){var _v0=false;var _v1=new ASJS.Mouse();var _v4=new ASJS.Window();var _v3=0;var _v2=0;scp.construct=function(){};prop(scp,"title",{get:function(){return document.title;},set:function(v){document.title=v;}});prop(scp,"stage",{get:function(){return scp;}});prop(scp,"stageWidth",{get:function(){return _v3;}});prop(scp,"stageHeight",{get:function(){return _v2;}});scp.init=function(){if(_v0)return;_v0=true;scp.clear();scp.setSize("100%","100%");_v4.addEventListener(ASJS.WindowEvent.RESIZE,_v7);_v7();_v1.init();};function _v7(){var _v5=scp.getCSS("overflow-x");var _v6=scp.getCSS("overflow-y");scp.setCSS("overflow-x","hidden");scp.setCSS("overflow-y","hidden");_v3=_v4.width;_v2=_v4.height;scp.setCSS("overflow-x",_v5);scp.setCSS("overflow-y",_v6);scp.dispatchEvent(ASJS.Stage.RESIZE);}});};cnst(ASJS.Stage,"RESIZE","ASJS-Stage-resize");cnst(ASJS.Stage,"ADDED_TO_STAGE","ASJS-Stage-addedToStage");cnst(ASJS.Stage,"REMOVED_FROM_STAGE","ASJS-Stage-removedFromStage");ASJS.IFrame=function(){return createClass(this,ASJS.DisplayObject,["<iframe />"],function(scp,spr){scp.construct=function(){};prop(scp,"src",{get:function(){return scp.getAttr("src");},set:function(v){scp.setAttr("src",v);}});scp.isLoaded=function(){return scp.el.contentDocument.title.indexOf("404")==-1;};scp.sendMessage=function(data){scp.el.contentWindow.postMessage(data,"*");}});};ASJS.Bitmap=function(bitmapWidth,bitmapHeight){return createClass(this,ASJS.DisplayObject,["<canvas />"],function(scp,spr){var _v10={};cnst(_v10,"TARGET_FILL","targetFill");cnst(_v10,"TARGET_STROKE","targetStroke");var _v14;var _v17=false;var _v16=false;var _v0;var _v18=true;var _v19;scp.construct=function(){if(!_v4())throw new Error("ASJS.Bitmap (canvas) is not supported in your browser!");scp.setBitmapSize(bitmapWidth,bitmapHeight);};prop(scp,"keepOriginal",{get:function(){return _v18;},set:function(v){_v18=v;}});prop(scp,"bitmapFilters",{get:function(){return _v0;},set:function(v){_v0=v;_v1();}});prop(scp,"bitmapWidth",{get:function(){return scp.getAttr("width");},set:function(v){scp.setAttr("width",Math.max(1,v||1));}});prop(scp,"bitmapHeight",{get:function(){return scp.getAttr("height");},set:function(v){scp.setAttr("height",Math.max(1,v||1));}});prop(scp,"blendMode",{get:function(){return _v4().globalCompositeOperation;},set:function(v){_v4().globalCompositeOperation=v;}});prop(scp,"globalAlpha",{get:function(){return _v4().globalAlpha;},set:function(v){_v4().globalAlpha=v;}});scp.beginLineColorStyle=function(size,rgb,alpha,miterLimit,lineJoin,lineCap){_v15();_v13(size,miterLimit,lineJoin,lineCap);_v21(_v10.TARGET_STROKE,rgb,alpha);};scp.beginLineGradientStyle=function(size,type,gradientParams,colors,lineMitter,lineJoin,lineCap){_v15();_v13(size,miterLimit,lineJoin,lineCap);_v23(_v10.TARGET_STROKE,type,gradientParams,colors);};scp.beginLinePatternStyle=function(size,image,repeat,lineMitter,lineJoin,lineCap){_v15();_v13(size,miterLimit,lineJoin,lineCap);_v24(_v10.TARGET_STROKE,image,repeat);};scp.beginColorFill=function(rgb,alpha){_v22();_v21(_v10.TARGET_FILL,rgb,alpha);};scp.beginGradientFill=function(type,gradientParams,colors){_v22();_v23(_v10.TARGET_FILL,type,gradientParams,colors);};scp.beginPatternFill=function(image,repeat){_v22();_v24(_v10.TARGET_FILL,image,repeat);};scp.translate=function(x,y){_v4().translate(x,y);};scp.rotate=function(v){_v4().rotate(v*ASJS.GeomUtils.THETA);};scp.scale=function(w,h){_v4().scale(w,h);};scp.transform=function(matrix){_v4().transform(matrix.a,matrix.b,matrix.c,matrix.d,matrix.e,matrix.f);};scp.endLineStyle=function(){var _v7=_v4();if(_v17)_v7.stroke();_v17=false;};scp.endFill=function(){var _v7=_v4();_v4().closePath();if(_v16)_v7.fill();_v16=false;};scp.moveTo=function(x,y){_v4().moveTo(x,y);};scp.lineTo=function(x,y){_v4().lineTo(x,y);};scp.drawRect=function(x,y,w,h){var _v7=_v4();if(_v16)_v7.fillRect(x,y,w,h);if(_v17)_v7.strokeRect(x,y,w,h);};scp.drawCircle=function(x,y,r){scp.drawArc(x,y,r,0,2*Math.PI);};scp.drawArc=function(x,y,r,begin,end,counterclockwise){_v4().arc(x,y,r,begin,end,counterclockwise);};scp.drawHTML=function(v){try{rasterizeHTML.drawHTML(v,scp.el);}catch(e){throw new Error("Missing: http://www.github.com/cburgmer/rasterizeHTML.js");}};scp.drawImage=function(image,sx,sy,sw,sh,x,y,w,h){try{_v4().drawImage(image.el,sx,sy,sw,sh,x,y,w,h);}catch(e){}};scp.textStyle=function(font,align,baseline){var _v7=_v4();_v7.font=font;_v7.textAlign=align;_v7.textBaseline=baseline;};scp.drawText=function(text,x,y){var _v7=_v4();if(_v16)_v7.fillText(text,x,y);if(_v17)_v7.strokeText(text,x,y);};scp.measureText=function(text){return _v4().measureText(text);};scp.clearRect=function(x,y,w,h){_v4().clearRect(x,y,w,h);};scp.getDataUrl=function(type,encoderOptions){return scp.el.toDataURL(type,encoderOptions);};scp.getColorRgb=function(x,y){var _v25=scp.getImageData(x,y,1,1);return{r:_v25.data[0],g:_v25.data[1],b:_v25.data[2],a:_v25.data[3]};};scp.setColor=function(x,y){scp.drawRect(x,y,1,1);};scp.getImageData=function(x,y,w,h){return _v4().getImageData(x,y,w,h);};scp.putImageData=function(imageData,x,y){_v4().putImageData(imageData,x,y);};scp.merge=function(bitmap,srcX,srcY,srcW,srcH,x,y){scp.putImageData(bitmap.getImageData(srcX,srcY,srcW,srcH),x,y);};scp.destroy=function(){scp.clearRect(0,0,scp.bitmapWidth,scp.bitmapHeight);scp.setBitmapSize(1,1);if(_v19)_v19=null;};scp.setBitmapSize=function(width,height){scp.bitmapWidth=width;scp.bitmapHeight=height;};scp.clone=function(){var bmp=new ASJS.Bitmap(scp.bitmapWidth,scp.bitmapHeight);bmp.setSize(scp.bitmapWidth,scp.bitmapHeight);bmp.drawImage(scp,0,0,scp.bitmapWidth,scp.bitmapHeight,0,0,scp.bitmapWidth,scp.bitmapHeight);return bmp;};scp.getOriginal=function(){var bmp=new ASJS.Bitmap(scp.bitmapWidth,scp.bitmapHeight);if(_v19)bmp.drawImage(_v19,0,0,scp.bitmapWidth,scp.bitmapHeight,0,0,scp.bitmapWidth,scp.bitmapHeight);return bmp;};function _v15(){_v4().beginPath();_v17=true;};function _v22(){_v4().beginPath();_v16=true;};function _v20(_v5,stop,_v25,alpha){var rgb=hexToRGB(_v25);rgb.a=alpha;_v5.addColorStop(stop,_v12(rgb));};function _v2(targetType,v){var _v7=_v4();if(targetType==_v10.TARGET_FILL)_v7.fillStyle=v;else _v7.strokeStyle=v;};function _v13(size,miterLimit,lineJoin,lineCap){var _v7=_v4();_v7.lineWidth=size;_v7.miterLimit=miterLimit||10;_v7.lineJoin=lineJoin||ASJS.Bitmap.LINE_JOIN_MITER;_v7.lineCap=lineCap||ASJS.Bitmap.LINE_CAP_BUTT;};function _v21(targetType,rgb,alpha){var rgb=_v6(rgb);rgb.a=alpha;_v2(targetType,_v12(rgb));};function _v23(targetType,type,gradientData,colors){var _v7=_v4();var _v5;switch(type){case ASJS.Bitmap.GRADIENT_LINEAR:_v5=_v7.createLinearGradient(gradientParams);break;case ASJS.Bitmap.GRADIENT_RADIAL:_v5=_v7.createRadialGradient(gradientParams);break;};var i=-1;var l=colors.length;var _v25;while(++i<l){_v25=colors[i];_v20(_v5,_v25.stop,_v25.color,_v25.alpha);};_v2(targetType,_v5);};function _v24(targetType,image,repeat){var _v8=_v4().createPattern(image.el,repeat||ASJS.Bitmap.PATTERN_REPEAT);_v2(targetType,_v8);};function _v4(){if(!_v14)_v14=scp.el.getContext("2d");return _v14;};function _v12(rgb){return"rgba( "+rgb.r+", "+rgb.g+", "+rgb.b+", "+rgb.a+" )";};function _v6(v){var _v26=/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i;v=v.replace(_v26,function(m,r,g,b){return r+r+g+g+b+b;});var _v11=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(v);return _v11?{r:parseInt(_v11[1],16),g:parseInt(_v11[2],16),b:parseInt(_v11[3],16),a:1}:null;};function _v1(){var l=scp.bitmapFilters.length;if(l==0)return;if(scp.keepOriginal){if(!_v19){_v19=new ASJS.Image();_v19.src=scp.getDataUrl("image/png",1.0);}else{scp.drawImage(_v19,0,0,scp.bitmapWidth,scp.bitmapHeight,0,0,scp.bitmapWidth,scp.bitmapHeight);_v19=null;}};var i=-1;var _v9=scp.getImageData(0,0,scp.bitmapWidth,scp.bitmapHeight);while(++i<l){var _v3=scp.bitmapFilters[i];_v9=_v3.execute(_v9);};scp.putImageData(_v9,0,0);}});};cnst(ASJS.Bitmap,"GRADIENT_LINEAR","ASJS-Bitmap-gradientLinear");cnst(ASJS.Bitmap,"GRADIENT_RADIAL","ASJS-Bitmap-gradientRadial");cnst(ASJS.Bitmap,"PATTERN_REPEAT","repeat");cnst(ASJS.Bitmap,"PATTERN_NO_REPEAT","no-repeat");cnst(ASJS.Bitmap,"PATTERN_REPEAT_X","repeat-x");cnst(ASJS.Bitmap,"PATTERN_REPEAT_Y","repeat-y");cnst(ASJS.Bitmap,"LINE_CAP_BUTT","butt");cnst(ASJS.Bitmap,"LINE_CAP_ROUND","round");cnst(ASJS.Bitmap,"LINE_CAP_SQUARE","square");cnst(ASJS.Bitmap,"LINE_JOIN_BEVEL","bevel");cnst(ASJS.Bitmap,"LINE_JOIN_ROUND","round");cnst(ASJS.Bitmap,"LINE_JOIN_MITER","miter");ASJS.Image=function(){return createClass(this,ASJS.DisplayObject,["<img />"],function(scp,spr){scp.construct=function(){};prop(scp,"bitmap",{get:function(){var _v0=new ASJS.Bitmap(scp.imageWidth,scp.imageHeight);_v0.drawImage(scp,0,0,scp.imageWidth,scp.imageHeight,0,0,scp.imageWidth,scp.imageHeight);return _v0;}});prop(scp,"imageWidth",{get:function(){return scp.el.width;}});prop(scp,"imageHeight",{get:function(){return scp.el.height;}});prop(scp,"src",{get:function(){return scp.getAttr("src");},set:function(v){scp.setAttr("src",v);}});prop(scp,"alt",{get:function(){return scp.getAttr("alt");},set:function(v){scp.setAttr("alt",v);}});});};ASJS.Label=function(){return createClass(this,ASJS.DisplayObject,["<label />"],function(scp,spr){scp.construct=function(){};prop(scp,"for",{get:function(){return scp.getAttr("for");},set:function(v){if(v&&v.id)scp.setAttr("for",v.id);}});});};ASJS.Link=function(){return createClass(this,ASJS.Sprite,["<a />"],function(scp,spr){scp.construct=function(){};prop(scp,"href",{get:function(){return scp.getAttr("href");},set:function(v){scp.setAttr("href",v);}});prop(scp,"target",{get:function(){return scp.getAttr("target");},set:function(v){scp.setAttr("target",v);}});prop(scp,"download",{get:function(){return scp.getAttr("download");},set:function(v){scp.setAttr("download",v);}});});};ASJS.Scale9Grid=function(){return createClass(this,ASJS.Sprite,null,function(scp,spr){var _v2=new ASJS.Point();var _v1=new ASJS.Rectangle();var _v0=[];scp.construct=function(){var i=-1;var l=9;while(++i<l){_v0[i]=new ASJS.Sprite();_v0[i].setCSS("background-repeat","no-repeat");scp.addChild(_v0[i]);};_v0[0].setCSS("background-position","left top");_v0[2].setCSS("background-position","right top");_v0[6].setCSS("background-position","left bottom");_v0[8].setCSS("background-position","right bottom");};prop(scp,"x",{set:function(v){spr.x=v;}});prop(scp,"y",{set:function(v){spr.y=v;}});prop(scp,"width",{set:function(v){spr.width=v;}});prop(scp,"height",{set:function(v){spr.height=v;}});prop(scp,"backgroundImage",{set:function(v){var i=-1;var l=9;while(++i<l)_v0[i].setCSS("background-image","url("+v+")");}});prop(scp,"size",{get:function(){return _v2;},set:function(v){_v2=v;}});prop(scp,"rect",{get:function(){return _v1;},set:function(v){_v1=v;}});scp.setSize=function(w,h){spr.setSize(w,h);};scp.drawNow=function(){var _v6=_v2.x-(_v1.x+_v1.width);var _v3=_v2.y-(_v1.y+_v1.height);var _v4=new ASJS.Point(scp.width-_v1.x-_v6,scp.height-_v1.y-_v3);var _v5=new ASJS.Point(Math.round(_v4.x/_v1.width),Math.round(_v4.y/_v1.height));var tl=new ASJS.Point(-(_v5.x*_v1.x)*2,-(_v5.y*_v1.y)*2);var br=new ASJS.Point(_v5.x*_v6,_v5.y*_v3);var ps=new ASJS.Point((_v2.x*_v5.x)*2,(_v2.y*_v5.y)*2);_v0[0].setSize(_v1.x,_v1.y);_v0[1].setSize(scp.width-_v1.x-_v6,_v1.y);_v0[2].setSize(scp.width-_v0[0].width-_v0[1].width,_v1.y);_v0[3].setSize(_v1.x,scp.height-_v1.y-_v3);_v0[4].setSize(_v0[1].width,_v0[3].height);_v0[5].setSize(_v0[2].width,_v0[3].height);_v0[6].setSize(_v1.x,scp.height-_v0[0].height-_v0[3].height);_v0[7].setSize(_v0[1].width,_v0[6].height);_v0[8].setSize(_v0[2].width,_v0[6].height);_v0[1].x=_v0[0].width;_v0[2].x=_v0[1].x+_v0[1].width;_v0[3].y=_v0[0].height;_v0[4].move(_v0[3].width,_v0[1].height);_v0[5].move(_v0[4].x+_v0[4].width,_v0[1].height);_v0[6].y=_v0[3].y+_v0[3].height;_v0[7].move(_v0[6].width,_v0[6].y);_v0[8].move(_v0[7].x+_v0[7].width,_v0[6].y);_v0[1].setCSS("background-position",tl.x+"px top");_v0[1].setCSS("background-size",ps.x+"px "+_v2.y+"px");_v0[3].setCSS("background-position","left "+tl.y+"px");_v0[3].setCSS("background-size",_v2.x+"px "+ps.y+"px");_v0[4].setCSS("background-position",tl.x+"px "+tl.y+"px");_v0[4].setCSS("background-size",ps.x+"px "+ps.y+"px");_v0[5].setCSS("background-position","right "+tl.y+"px");_v0[5].setCSS("background-size",_v2.x+"px "+ps.y+"px");_v0[7].setCSS("background-position",tl.x+"px bottom");_v0[7].setCSS("background-size",ps.x+"px "+_v2.y+"px");}});};ASJS.AbstractMediaPlayer=function(tag){return createClass(this,ASJS.Sprite,null,function(scp,spr){scp.construct=function(){scp.controls=false;scp.preload=ASJS.AbstractMediaPlayer.PRELOAD_AUTO;};prop(scp,"buffered",{get:function(){return scp.el.buffered;}});prop(scp,"controller",{get:function(){return scp.el.controller;}});prop(scp,"currentSrc",{get:function(){return scp.el.currentSrc;}});prop(scp,"duration",{get:function(){return scp.el.duration;}});prop(scp,"ended",{get:function(){return scp.el.ended;}});prop(scp,"error",{get:function(){return scp.el.error;}});prop(scp,"networkState",{get:function(){return scp.el.networkState;}});prop(scp,"paused",{get:function(){return scp.el.paused;}});prop(scp,"played",{get:function(){return scp.el.played;}});prop(scp,"readyState",{get:function(){return scp.el.readyState;}});prop(scp,"seekable",{get:function(){return scp.el.seekable;}});prop(scp,"seeking",{get:function(){return scp.el.seeking;}});prop(scp,"startDate",{get:function(){return scp.el.startDate;}});prop(scp,"textTracks",{get:function(){return scp.el.textTracks;}});prop(scp,"controls",{get:function(){return scp.el.controls;},set:function(v){scp.el.controls=v;}});prop(scp,"preload",{get:function(){return scp.el.preload;},set:function(v){scp.el.preload=v;}});prop(scp,"muted",{get:function(){return scp.el.muted;},set:function(v){scp.el.muted=v;}});prop(scp,"loop",{get:function(){return scp.el.loop;},set:function(v){scp.el.loop=v;}});prop(scp,"autoplay",{get:function(){return scp.el.autoplay;},set:function(v){scp.el.autoplay=v;}});prop(scp,"src",{get:function(){return scp.el.src;},set:function(v){scp.el.src=v;}});prop(scp,"crossOrigin",{get:function(){return scp.el.crossOrigin;},set:function(v){scp.el.crossOrigin=v;}});prop(scp,"currentTime",{get:function(){return scp.el.currentTime;},set:function(v){scp.el.currentTime=v;}});prop(scp,"defaultMuted",{get:function(){return scp.el.defaultMuted;},set:function(v){scp.el.defaultMuted=v;}});prop(scp,"defaultPlaybackRate",{get:function(){return scp.el.defaultPlaybackRate;},set:function(v){scp.el.defaultPlaybackRate=v;}});prop(scp,"mediaGroup",{get:function(){return scp.el.mediaGroup;},set:function(v){scp.el.mediaGroup=v;}});prop(scp,"playbackRate",{get:function(){return scp.el.playbackRate;},set:function(v){scp.el.playbackRate=v;}});prop(scp,"volume",{get:function(){return scp.el.volume;},set:function(v){scp.el.volume=v;}});scp.play=function(){scp.el.play();};scp.pause=function(){scp.el.pause();};scp.load=function(){scp.el.load();};scp.unload=function(){scp.clear();scp.removeAttr("src");}});};cnst(ASJS.AbstractMediaPlayer,"PRELOAD_NONE","none");cnst(ASJS.AbstractMediaPlayer,"PRELOAD_AUTO","auto");cnst(ASJS.AbstractMediaPlayer,"PRELOAD_METADATA","metadata");ASJS.VideoPlayer=function(){return createClass(this,ASJS.AbstractMediaPlayer,["<video />"],function(scp,spr){scp.construct=function(){};prop(scp,"poster",{get:function(){return scp.el.poster;},set:function(v){scp.el.poster=v;}});});};ASJS.AudioPlayer=function(){return createClass(this,ASJS.AbstractMediaPlayer,["<audio />"],function(scp,spr){scp.construct=function(){}});};ASJS.MediaSource=function(src,type){return createClass(this,ASJS.DisplayObject,["<source />"],function(scp,spr){scp.construct=function(){scp.src=src;scp.type=type;};prop(scp,"type",{get:function(){return scp.getAttr("type");},set:function(v){scp.setAttr("type",v);}});prop(scp,"src",{get:function(){return scp.getAttr("src");},set:function(v){scp.setAttr("src",v);}});});};cnst(ASJS.MediaSource,"TYPE_AUDIO_MP3","audio/mpeg");cnst(ASJS.MediaSource,"TYPE_AUDIO_OGG","audio/ogg");cnst(ASJS.MediaSource,"TYPE_AUDIO_WAV","audio/wav");cnst(ASJS.MediaSource,"TYPE_VIDEO_MP4","video/mp4");cnst(ASJS.MediaSource,"TYPE_VIDEO_OGG","video/ogg");cnst(ASJS.MediaSource,"TYPE_VIDEO_WEBM","video/webm");ASJS.VideoTrack=function(){return createClass(this,ASJS.DisplayObject,["<track />"],function(scp,spr){scp.construct=function(){};prop(scp,"src",{get:function(){return scp.getAttr("src");},set:function(v){scp.setAttr("src",v);}});prop(scp,"kind",{get:function(){return scp.getAttr("kind");},set:function(v){scp.setAttr("kind",v);}});prop(scp,"label",{get:function(){return scp.getAttr("label");},set:function(v){scp.setAttr("label",v);}});prop(scp,"srclang",{get:function(){return scp.getAttr("srclang");},set:function(v){scp.setAttr("srclang",v);}});});};cnst(ASJS.VideoTrack,"KIND_CAPTIONS","captions");cnst(ASJS.VideoTrack,"KIND_CHAPTERS","chapters");cnst(ASJS.VideoTrack,"KIND_DESCRIPTIONS","descriptions");cnst(ASJS.VideoTrack,"KIND_METADATA","metadata");cnst(ASJS.VideoTrack,"KIND_SUBTITLES","subtitles");ASJS.Easing=function(){return createClass(this,Object,null,function(scp,spr){var _v2=new ASJS.Cycler();var _v6;var _v5;var _v7;var _v9;var _v4;var _v0;var _to;var _v10;var _v3;var _v8;var _v1;scp.construct=function(){scp.stop();};scp.stop=function(){_v6=false;_v2.removeCallback(_v13);};scp.play=function(target,to,duration,type,stepCallback,completeCallback){_v9=target;_v4={};_v0={};_to=to;_v10=type;_v3=(duration/(1000/_v2.fps));_v8=stepCallback;_v1=completeCallback;_v11(function(k){_v4[k]=_v9[k];_v0[k]=_to[k]-_v4[k];});if(!ASJS.Easing[_v10])_v10="linearTween";_v12();};function _v12(){if(_v6)return;_v7=0;_v6=true;_v2.addCallback(_v13);};function _v13(){if(!_v6)return;if(_v7>=_v3){scp.stop();_v11(function(k){_v9[k]=_to[k];});if(_v8)_v8();if(_v1)_v1();return;};_v11(function(k){_v9[k]=ASJS.Easing[_v10](_v7,_v4[k],_v0[k],_v3);});if(_v8)_v8();_v7++;};function _v11(callback){for(var k in _to)callback(k);}});};roFunc(ASJS.Easing,"linearTween",function(t,b,c,d){return c*t/d+b;});roFunc(ASJS.Easing,"easeInQuad",function(t,b,c,d){t/=d;return c*t*t+b;});roFunc(ASJS.Easing,"easeOutQuad",function(t,b,c,d){t/=d;return-c*t*(t-2)+b;});roFunc(ASJS.Easing,"easeInOutQuad",function(t,b,c,d){t/=d/2;if(t<1)return c/2*t*t+b;t--;return-c/2*(t*(t-2)-1)+b;});roFunc(ASJS.Easing,"easeInCubic",function(t,b,c,d){t/=d;return c*t*t*t+b;});roFunc(ASJS.Easing,"easeOutCubic",function(t,b,c,d){t/=d;t--;return c*(t*t*t+1)+b;});roFunc(ASJS.Easing,"easeInOutCubic",function(t,b,c,d){t/=d/2;if(t<1)return c/2*t*t*t+b;t-=2;return c/2*(t*t*t+2)+b;});roFunc(ASJS.Easing,"easeInQuart",function(t,b,c,d){t/=d;return c*t*t*t*t+b;});roFunc(ASJS.Easing,"easeOutQuart",function(t,b,c,d){t/=d;t--;return-c*(t*t*t*t-1)+b;});roFunc(ASJS.Easing,"easeInOutQuart",function(t,b,c,d){t/=d/2;if(t<1)return c/2*t*t*t*t+b;t-=2;return-c/2*(t*t*t*t-2)+b;});roFunc(ASJS.Easing,"easeInQuint",function(t,b,c,d){t/=d;return c*t*t*t*t*t+b;});roFunc(ASJS.Easing,"easeOutQuint",function(t,b,c,d){t/=d;t--;return c*(t*t*t*t*t+1)+b;});roFunc(ASJS.Easing,"easeInOutQuint",function(t,b,c,d){t/=d/2;if(t<1)return c/2*t*t*t*t*t+b;t-=2;return c/2*(t*t*t*t*t+2)+b;});roFunc(ASJS.Easing,"easeInSine",function(t,b,c,d){return-c*Math.cos(t/d*(Math.PI/2))+c+b;});roFunc(ASJS.Easing,"easeOutSine",function(t,b,c,d){return c*Math.sin(t/d*(Math.PI/2))+b;});roFunc(ASJS.Easing,"easeInOutSine",function(t,b,c,d){return-c/2*(Math.cos(Math.PI*t/d)-1)+b;});roFunc(ASJS.Easing,"easeInExpo",function(t,b,c,d){return c*Math.pow(2,10*(t/d-1))+b;});roFunc(ASJS.Easing,"easeOutExpo",function(t,b,c,d){return c*(-Math.pow(2,-10*t/d)+1)+b;});roFunc(ASJS.Easing,"easeInOutExpo",function(t,b,c,d){t/=d/2;if(t<1)return c/2*Math.pow(2,10*(t-1))+b;t--;return c/2*(-Math.pow(2,-10*t)+2)+b;});roFunc(ASJS.Easing,"easeInCirc",function(t,b,c,d){t/=d;return-c*(Math.sqrt(1-t*t)-1)+b;});roFunc(ASJS.Easing,"easeOutCirc",function(t,b,c,d){t/=d;t--;return c*Math.sqrt(1-t*t)+b;});roFunc(ASJS.Easing,"easeInOutCirc",function(t,b,c,d){t/=d/2;if(t<1)return-c/2*(Math.sqrt(1-t*t)-1)+b;t-=2;return c/2*(Math.sqrt(1-t*t)+1)+b;});ASJS.AnimationDescriptor=function(name,spriteSheet,size,frameDelay,sequenceList){return createClass(this,Object,null,function(scp,spr){scp.name=name||"";scp.spriteSheet=spriteSheet||"";scp.size=size||new ASJS.Point();scp.frameDelay=Math.floor(Math.max(1,frameDelay||1));scp.sequenceList=sequenceList||[];scp.construct=function(){}});};ASJS.AnimatedSprite=function(){return createClass(this,ASJS.DisplayObject,null,function(scp,spr){var _v17=new ASJS.Cycler();var _v11={};var _v15=false;var _v14="";var _v13=0;var _v0=ASJS.AnimatedSprite.PLAY_NORMAL;var _v16=[];scp.construct=function(){scp.stop();};prop(scp,"selectedAnimation",{get:function(){return _v14;}});scp.addAnimationDescriptorList=function(animationDescriptorList){var i=-1;var l=animationDescriptorList.length;while(++i<l)scp.addAnimationDescriptor(animationDescriptorList[i]);};scp.addAnimationDescriptor=function(animationDescriptor){_v11[animationDescriptor.name]=animationDescriptor;};scp.removeAnimationDescriptor=function(name){_v11[name]=null;delete _v11[name];};scp.stop=function(){_v13=0;_v15=false;_v17.removeCallback(_v18);};scp.play=function(name,type){if(!_v11[name])return;var _v12=!type?ASJS.AnimatedSprite.PLAY_NORMAL:(type==ASJS.AnimatedSprite.PLAY_NORMAL?ASJS.AnimatedSprite.PLAY_NORMAL:ASJS.AnimatedSprite.PLAY_REVERSE);if(_v14==name&&_v0==_v12){_v10();return;};_v14=name;_v0=_v12;_v13=0;var _v2=_v11[_v14].spriteSheet;if(_v2!=""){if(_v16.indexOf(_v2)>-1)_v4(_v2);else{var _v1=new ASJS.Loader();_v1.addEventListener(ASJS.LoaderEvent.LOAD,function(){_v16.push(_v2);_v4(_v2);});_v1.addEventListener(ASJS.LoaderEvent.ERROR,function(){trace("Error: missing animation sprite sheet");});_v1.load(_v2);}}else _v10();};function _v4(v){scp.setCSS("background-image","url("+v+")");_v10();};function _v10(){if(_v15)return;_v15=true;_v17.addCallback(_v18);};function _v18(){if(!_v15)return;var _v6=_v11[_v14];var _v5=_v6.sequenceList;var _v7=_v5[_v13];var _v3=_v6.size;var _v8=scp.width/_v7.width;var _v9=scp.height/_v7.height;scp.setCSS("background-position",(-_v7.x*_v8)+"px "+(-_v7.y*_v9)+"px");scp.setCSS("background-_v3",(_v3.x*_v8)+"px "+(_v3.y*_v9)+"px");scp.setSize(_v7.width*_v8,_v7.height*_v9);if(_v0==ASJS.AnimatedSprite.PLAY_NORMAL){if(++_v13>=_v5.length)_v13=0;}else{if(--_v13<0)_v13=_v5.length-1;}}});};cnst(ASJS.AnimatedSprite,"PLAY_NORMAL","ASJS-AnimatedSprite-playNormal");cnst(ASJS.AnimatedSprite,"PLAY_REVERSE","ASJS-AnimatedSprite-playReverse");ASJS.AnimationLoader=function(){return createClass(this,Object,null,function(scp,spr){var _v0;var _v1;scp.construct=function(){};scp.load=function(url){_v0=$.Deferred();_v1=new ASJS.Loader();_v1.addEventListener(ASJS.LoaderEvent.LOAD,_v6);_v1.addEventListener(ASJS.LoaderEvent.ERROR,_v7);_v1.method=ASJS.RequestMethod.GET;_v1.responseType="json";_v1.load(url);return _v0.promise();};function _v8(data){var _v2=new ASJS.AnimationDescriptor(data.id,data.image,new ASJS.Point(data.imageSize.w,data.imageSize.h),data.frameDelay);var i=-1;var l=data.frames.length;var _v5=[];while(++i<l){var _v4=data.frames[i];var j=-1;var m=Math.max(1,_v4.l||1)*_v2.frameDelay;while(++j<m)_v5.push(new ASJS.Rectangle(_v4.x,_v4.y,_v4.w,_v4.h));};_v2.sequenceList=_v5;return _v2;};function _v6(){_v1.removeEventListeners();try{var i=-1;var l=_v1.content.length;var _v3=[];while(++i<l)_v3.push(_v8(_v1.content[i]));_v0.resolve(_v3);}catch(e){trace(e);throw new Error("Invalid animation descriptor file: "+_v1.url);_v0.reject();}};function _v7(){_v1.removeEventListeners();_v0.reject();}});};ASJS.BlendMode={};cnst(ASJS.BlendMode,"SOURCE_OVER","source-over");cnst(ASJS.BlendMode,"SOURCE_IN","source-in");cnst(ASJS.BlendMode,"SOURCE_OUT","source-out");cnst(ASJS.BlendMode,"SOURCE_ATOP","source-atop");cnst(ASJS.BlendMode,"DESTINATION_OVER","destination-over");cnst(ASJS.BlendMode,"DESTINATION_IN","destination-in");cnst(ASJS.BlendMode,"DESTINATION_OUT","destination-out");cnst(ASJS.BlendMode,"DESTINATION_ATOP","destination-atop");cnst(ASJS.BlendMode,"LIGHTER","lighter");cnst(ASJS.BlendMode,"COPY","copy");cnst(ASJS.BlendMode,"XOR","xor");cnst(ASJS.BlendMode,"MULTIPLY","multiply");cnst(ASJS.BlendMode,"SCREEN","screen");cnst(ASJS.BlendMode,"OVERLAY","overlay");cnst(ASJS.BlendMode,"DARKEN","darken");cnst(ASJS.BlendMode,"LIGHTEN","lighten");cnst(ASJS.BlendMode,"COLOR_DODGE","color-dodge");cnst(ASJS.BlendMode,"COLOR_BURN","color-burn");cnst(ASJS.BlendMode,"HARD_LIGHT","hard-light");cnst(ASJS.BlendMode,"SOFT_LIGHT","soft-light");cnst(ASJS.BlendMode,"DIFFERENCE","difference");cnst(ASJS.BlendMode,"EXCLUSION","exclusion");cnst(ASJS.BlendMode,"HUE","hue");cnst(ASJS.BlendMode,"SATURATION","saturation");cnst(ASJS.BlendMode,"COLOR","color");cnst(ASJS.BlendMode,"LUMINOSITY","luminosity");ASJS.GradientColorData=function(stop,color,alpha){return createClass(this,Object,null,function(scp,spr){scp.stop=stop||0;scp.color=color||"#0";scp.alpha=alpha||1;scp.construct=function(){}});};ASJS.LinearGradientData=function(x,y,w,h){return createClass(this,ASJS.Rectangle,null,function(scp,spr){scp.construct=function(){}});};ASJS.RadialGradientData=function(x0,y0,r0,x1,y1,r1){return createClass(this,Object,null,function(scp,spr){scp.x0=x0||0;scp.y0=y0||0;scp.r0=r0||0;scp.x1=x1||0;scp.y1=y1||0;scp.r1=r1||0;scp.construct=function(){}});};ASJS.AbstractBitmapFilter=function(){return createClass(this,Object,null,function(scp,spr){scp.construct=function(){};scp.execute=function(pixels){return pixels;}});};ASJS.AbstractConvoluteBitmapFilter=function(opaque){return createClass(this,ASJS.AbstractBitmapFilter,null,function(scp,spr){var _v0=opaque;scp.construct=function(){};prop(scp,"_matrix",{get:function(){return[1];}});scp.execute=function(pixels){var d=pixels.data;return _v10(pixels);};function _v10(pixels){var _v2=scp._matrix;var _v5=Math.round(Math.sqrt(_v2.length));var _v8=Math.floor(_v5*0.5);var _v4=pixels.data;var sw=pixels.width;var sh=pixels.height;var w=sw;var h=sh;var _v11=new ASJS.Bitmap(w,h);var _v7=_v11.getImageData(0,0,w,h);var dst=_v7.data;var _v12=_v0?1:0;var y=-1;while(++y<h){var x=-1;while(++x<w){var sy=y;var sx=x;var _v9=(y*w+x)*4;var r=0;var g=0;var b=0;var a=0;var cy=-1;while(++cy<_v5){var cx=-1;while(++cx<_v5){var _v6=sy+cy-_v8;var _v1=sx+cx-_v8;if(_v6>=0&&_v6<sh&&_v1>=0&&_v1<sw){var _v3=(_v6*sw+_v1)*4;var wt=_v2[cy*_v5+cx];r+=_v4[_v3]*wt;g+=_v4[_v3+1]*wt;b+=_v4[_v3+2]*wt;a+=_v4[_v3+3]*wt;}}};dst[_v9]=r;dst[_v9+1]=g;dst[_v9+2]=b;dst[_v9+3]=a+_v12*(255-a);}};return _v7;};});};ASJS.AlphaBitmapFilter=function(type){return createClass(this,ASJS.AbstractBitmapFilter,null,function(scp,spr){var _v0=type==ASJS.AlphaBitmapFilter.TYPE_DARKNESS;scp.construct=function(){};scp.execute=function(pixels){var d=pixels.data;var i=-4;var l=d.length;while((i+=4)<l){var _v1=((d[i]+d[i+1]+d[i+2])/3);var a=Math.round(_v0?255-_v1:_v1);d[i+3]-=a;};return pixels;}});};cnst(ASJS.AlphaBitmapFilter,"TYPE_DARKNESS","ASJS-AlphaBitmapFilter-typeDarkness");cnst(ASJS.AlphaBitmapFilter,"TYPE_BRIGHTNESS","ASJS-AlphaBitmapFilter-typeBrightness");ASJS.BlurBitmapFilter=function(opaque,_v2){return createClass(this,ASJS.AbstractConvoluteBitmapFilter,null,function(scp,spr){var _v0=Math.max(1,_v2||1);scp.construct=function(){};prop(scp,"_matrix",{get:function(){var _v2=1/Math.pow(_v0,2);var _v1=[];var i=-1;while(++i<_v0){var j=-1;while(++j<_v0){_v1.push(_v2);}};return _v1;}});});};ASJS.BrightnessBitmapFilter=function(adjustment){return createClass(this,ASJS.AbstractBitmapFilter,null,function(scp,spr){var _v0=adjustment;scp.construct=function(){};scp.execute=function(pixels){var d=pixels.data;var i=-4;var l=d.length;while((i+=4)<l){d[i]+=_v0;d[i+1]+=_v0;d[i+2]+=_v0;};return pixels;}});};ASJS.ContrastBitmapFilter=function(adjustment){return createClass(this,ASJS.AbstractBitmapFilter,null,function(scp,spr){var _v0=adjustment||1;scp.construct=function(){};scp.execute=function(pixels){var d=pixels.data;var i=-4;var l=d.length;while((i+=4)<l){d[i]=128-((128-d[i])*_v0);d[i+1]=128-((128-d[i+1])*_v0);d[i+2]=128-((128-d[i+2])*_v0);};return pixels;}});};ASJS.CutoutBitmapFilter=function(adjustment){return createClass(this,ASJS.AbstractBitmapFilter,null,function(scp,spr){var _v0=adjustment||255;scp.construct=function(){};scp.execute=function(pixels){var d=pixels.data;var _v1=255/_v0;var i=-4;var l=d.length;while((i+=4)<l){d[i]=Math.floor(d[i]/_v1)*_v1;d[i+1]=Math.floor(d[i+1]/_v1)*_v1;d[i+2]=Math.floor(d[i+2]/_v1)*_v1;};return pixels;}});};ASJS.GrayscaleBitmapFilter=function(){return createClass(this,ASJS.AbstractBitmapFilter,null,function(scp,spr){scp.construct=function(){};scp.execute=function(pixels){var d=pixels.data;var i=-4;var l=d.length;while((i+=4)<l){var r=d[i];var g=d[i+1];var b=d[i+2];var v=0.2126*r+0.7152*g+0.0722*b;d[i]=d[i+1]=d[i+2]=v;};return pixels;}});};ASJS.InvertBitmapFilter=function(){return createClass(this,ASJS.AbstractBitmapFilter,null,function(scp,spr){scp.construct=function(){};scp.execute=function(pixels){var d=pixels.data;var i=-4;var l=d.length;while((i+=4)<l){d[i]=128-(d[i]-128);d[i+1]=128-(d[i+1]-128);d[i+2]=128-(d[i+2]-128);};return pixels;}});};ASJS.SharpenBitmapFilter=function(opaque){return createClass(this,ASJS.AbstractConvoluteBitmapFilter,null,function(scp,spr){scp.construct=function(){};prop(scp,"_matrix",{get:function(){return[0,-1,0,-1,5,-1,0,-1,0];}});});};ASJS.ThresholdBitmapFilter=function(threshold){return createClass(this,ASJS.AbstractBitmapFilter,null,function(scp,spr){var _v0=threshold;scp.construct=function(){};scp.execute=function(pixels){var d=pixels.data;var i=-4;var l=d.length;while((i+=4)<l){var r=d[i];var g=d[i+1];var b=d[i+2];var v=(0.2126*r+0.7152*g+0.0722*b>=_v0)?255:0;d[i]=d[i+1]=d[i+2]=v;};return pixels;}});};ASJS.TintBitmapFilter=function(r,g,b,a){return createClass(this,ASJS.AbstractBitmapFilter,null,function(scp,spr){var _r=r||0;var _g=g||0;var _b=b||0;var _a=a||0;scp.construct=function(){};scp.execute=function(pixels){var d=pixels.data;var i=-4;var l=d.length;while((i+=4)<l){d[i]+=_r;d[i+1]+=_g;d[i+2]+=_b;d[i+3]+=_a;};return pixels;}});};ASJS.OpacityBitmapFilter=function(adjustment){return createClass(this,ASJS.AbstractBitmapFilter,null,function(scp,spr){var _v0=adjustment||1;scp.construct=function(){};scp.execute=function(pixels){var d=pixels.data;var i=-4;var l=d.length;while((i+=4)<l){d[i+3]*=_v0;};return pixels;}});};ASJS.MaskBitmapFilter=function(mask,pos,invert,cutout){return createClass(this,ASJS.AbstractBitmapFilter,null,function(scp,spr){var _v12=mask;var _v11=pos;var _v9=invert;var _v0=cutout==undefined?true:cutout;scp.construct=function(){};scp.execute=function(pixels){var _v4=pixels.data;var _v1=mask.getImageData(0,0,mask.bitmapWidth,mask.bitmapHeight);var _v10=_v1.data;var _v13=pixels.width;var _v7=_v1.width;var _v8=_v1.height;var _v5=_v11.x+_v7;var _v6=_v11.y+_v8;var i=-4;var l=_v4.length;while((i+=4)<l){var _v3=Math.floor(i/4);var _v2=new ASJS.Point(Math.floor(_v3%_v13),Math.floor(_v3/_v13));if(_v2.x>=_v11.x&&_v2.y>=_v11.y&&_v2.x<_v5&&_v2.y<_v6){var j=((_v2.y-_v11.y)*_v7+(_v2.x-_v11.x))*4;var sA=_v4[i+3];var mA=_v10[j+3];_v4[i+3]=Math.floor(sA*((_v9?(255-mA):mA)/255));}else if(_v0)_v4[i+3]=0;};return pixels;}});};ASJS.PixelateBitmapFilter=function(value){return createClass(this,ASJS.AbstractBitmapFilter,null,function(scp,spr){var _v0=Math.max(1,value||1);scp.construct=function(){};scp.execute=function(pixels){var d=pixels.data;var _v1=_v0;var w=pixels.width;var h=pixels.height;var _v2=4*_v1;var i=-_v2;var l=d.length;while((i+=_v2)<l){var _v5=Math.floor(i/4);var _v4=new ASJS.Point(Math.floor(_v5%w),Math.floor(_v5/w));if(_v4.x%_v1>0)i=i-_v4.x*4-_v2;else if((_v4.y%_v1)==0){var x;var y;var r=0;var g=0;var b=0;var a=0;var _v6=Math.min(w-_v4.x,_v1);var _v7=Math.min(h-_v4.y,_v1);x=-1;while(++x<_v6){y=-1;while(++y<_v7){var _v3=i+y*4*w+x*4;r+=d[_v3];g+=d[_v3+1];b+=d[_v3+2];a+=d[_v3+3];}};var pb=_v6*_v7;r=Math.round(r/pb);g=Math.round(g/pb);b=Math.round(b/pb);a=Math.round(a/pb);x=-1;while(++x<_v6){y=-1;while(++y<_v7){var _v3=i+y*4*w+x*4;d[_v3]=r;d[_v3+1]=g;d[_v3+2]=b;d[_v3+3]=a;}}}};return pixels;}});};ASJS.BitmapBounds={};roFunc(ASJS.BitmapBounds,"execute",function(bitmap){var _v2=bitmap.getImageData(0,0,bitmap.bitmapWidth,bitmap.bitmapHeight);var d=_v2.data;var w=_v2.width;var _v3=new ASJS.Rectangle(_v2.width,_v2.height,0,0);var i=-4;var l=d.length;while((i+=4)<l){if(d[i+3]>0){var _v0=Math.floor(i/4);var _v1=new ASJS.Point(Math.floor(_v0%w),Math.floor(_v0/w));if(_v1.x<_v3.x)_v3.x=_v1.x;if(_v1.y<_v3.y)_v3.y=_v1.y;if(_v1.x-_v3.x+1>_v3.width)_v3.width=_v1.x-_v3.x+1;if(_v1.y-_v3.y+1>_v3.height)_v3.height=_v1.y-_v3.y+1;}};return _v3;});ASJS.Cell=function(tag){return createClass(this,ASJS.Sprite,null,function(scp,spr){var _v1={};var _v0=false;scp.construct=function(){scp.setCSS("position","relative");scp.mouseChildren=false;scp.addEventListener(ASJS.MouseEvent.CLICK,_v2);};prop(scp,"name",{get:function(){return scp.getAttr("name");},set:function(v){scp.setAttr("name",v);}});prop(scp,"checked",{get:function(){return _v0;},set:function(v){_v0=v;}});prop(scp,"data",{get:function(){return _v1;},set:function(v){_v1=v;if(_v1.id)scp.id=_v1.id;scp.showData();}});scp.drawNow=function(){};scp.showData=function(){};function _v2(e){var ev=new ASJS.MouseEvent(ASJS.Cell.CLICK);ev.ctrlKey=e.ctrlKey;ev.shiftKey=e.shiftKey;scp.dispatchEvent(ev);}});};cnst(ASJS.Cell,"CLICK","ASJS-Cell-click");ASJS.CustomList=function(){return createClass(this,ASJS.Sprite,null,function(scp,spr){var _v8=false;var _v0=ASJS.Cell;var _v7=0;var _v5=new ASJS.Sprite();var _v9;scp.construct=function(){_v5.setCSS("position","relative");_v5.setSize("auto","auto");_v5.addEventListener(ASJS.Cell.CLICK,_v3);scp.addChild(_v5);};prop(scp,"length",{get:function(){return _v5.numChildren;}});prop(scp,"cell",{set:function(v){_v0=v;}});prop(scp,"multiselect",{get:function(){return _v8;},set:function(v){_v8=v;}});prop(scp,"selected",{get:function(){var v=[];var i=-1;var l=scp.length;while(++i<l){var _v1=scp.getCellAt(i);if(_v1.checked)v.push(_v1);};return v;},set:function(v){scp.clearSelection();var j=-1;var l=scp.length;var _v11=scp.multiselect?v.length:1;while(++j<_v11){var i=-1;while(++i<l){if(i==v[j])scp.getCellAt(i).checked=true;}}}});prop(scp,"name",{get:function(){return _v9;},set:function(v){_v9=v;var i=-1;var l=scp.length;while(++i<l)scp.getCellAt(i).name=_v9;}});scp.clearSelection=function(){var i=-1;var l=scp.length;while(++i<l)scp.getCellAt(i).checked=false;};scp.clearList=function(){while(scp.length>0)_v5.removeChildAt(0);};scp.setList=function(cellDataVoList){scp.clearList();var i=-1;var l=cellDataVoList.length;while(++i<l)scp.addItem(cellDataVoList[i]);};scp.getList=function(){var _v2=[];var i=-1;var l=scp.length;while(++i<l)_v2.push(scp.getItemAt(i));return _v2;};scp.getCellAt=function(index){return index<0||index>=scp.length?null:_v5.getChildAt(index);};scp.getItemAt=function(index){var _v6=scp.getCellAt(index);return _v6?_v6.data:null;};scp.getCellById=function(id){var i=-1;var l=scp.length;while(++i<l){var _v6=scp.getCellAt(i);if(_v6.id==id)return _v6;};return null;};scp.getItemById=function(id){var _v6=scp.getCellById(id);return _v6?_v6.data:null;};scp.addItem=function(cellDataVo){var _v6=new _v0();_v6.name=_v9;_v6.data=cellDataVo;return _v5.addChild(_v6);};scp.addItemAt=function(cellDataVo,index){return _v5.setChildIndex(scp.addItem(cellDataVo),index);};scp.removeCell=function(_v6){if(!_v6||!_v5.contains(_v6))return;_v5.removeChild(_v6);};scp.removeCellById=function(id){scp.removeCell(scp.getCellById(id));};scp.drawNow=function(){var i=-1;var l=scp.length;while(++i<l){var _v6=scp.getCellAt(i);_v6.setSize(scp.width,scp.height);_v6.drawNow();}};function _v3(e){var _v6=_v5.getChildByDOMObject(e.target);if(!_v6)return;if(!scp.multiselect||(!e.ctrlKey&&!e.shiftKey))scp.clearSelection();_v6.checked=e.ctrlKey?!_v6.checked:true;var _v10=_v5.getChildIndex(_v6);if(!e.ctrlKey&&e.shiftKey){var i=-1;var l=Math.abs(_v10-_v7);var _v4=_v10>_v7?-1:1;while(++i<l){_v6=scp.getCellAt(_v10+(i*_v4));_v6.checked=true;}};_v7=_v10;scp.dispatchEvent(ASJS.CustomList.CHANGE);}});};cnst(ASJS.CustomList,"CHANGE","ASJS-CustomList-change");ASJS.CellDataVo=function(data){return createClass(this,Object,null,function(scp,spr){scp.id;scp.construct=function(){var d=data||{};scp.id=d.id||null;}});};ASJS.FormElement=function(tag){return createClass(this,ASJS.Sprite,null,function(scp,spr){scp.construct=function(){scp.tabIndex="auto";};prop(scp,"name",{get:function(){return scp.getAttr("name");},set:function(v){scp.setAttr("name",v);}});scp.drawNow=function(){};});};ASJS.AbstractTextElement=function(tag){return createClass(this,ASJS.FormElement,null,function(scp,spr){var _v1=[ASJS.Keyboard.LEFT_ARROW,ASJS.Keyboard.UP_ARROW,ASJS.Keyboard.RIGHT_ARROW,ASJS.Keyboard.DOWN_ARROW,ASJS.Keyboard.BACKSPACE,ASJS.Keyboard.TAB,ASJS.Keyboard.DELETE,ASJS.Keyboard.ENTER,ASJS.Keyboard.SHIFT,ASJS.Keyboard.CTRL,ASJS.Keyboard.END,ASJS.Keyboard.HOME,ASJS.Keyboard.CAPS_LOCK,ASJS.Keyboard.ESCAPE];var _v0=[ASJS.Keyboard.A,ASJS.Keyboard.C,ASJS.Keyboard.V,ASJS.Keyboard.X,ASJS.Keyboard.NUMPAD_1,ASJS.Keyboard.NUMPAD_3,ASJS.Keyboard.F7,ASJS.Keyboard.F9];var _v2;scp.construct=function(){scp.addEventListener(ASJS.KeyboardEvent.KEY_PRESS,_v5);scp.addEventListener(ASJS.KeyboardEvent.KEY_UP,_v6);scp.addEventListener(ASJS.Event.CHANGE,_v4);};prop(scp,"readonly",{get:function(){return scp.getAttr("readonly");},set:function(v){if(v)scp.setAttr("readonly","readonly");else scp.removeAttr("readonly");}});prop(scp,"placeholder",{get:function(){return scp.getAttr("placeholder");},set:function(v){scp.setAttr("placeholder",v);}});prop(scp,"val",{get:function(){return scp.jQuery.val();},set:function(v){scp.jQuery.val(v);}});prop(scp,"maxChar",{get:function(){return scp.getAttr("maxLength");},set:function(v){scp.setAttr("maxLength",v);}});prop(scp,"restrict",{get:function(){return _v2;},set:function(v){_v2=v;}});prop(scp,"autofocus",{get:function(){return scp.getAttr("autofocus");},set:function(v){if(v)scp.setAttr("autofocus","autofocus");else scp.removeAttr("autofocus");}});function _v5(e){if(_v2){var _v3=e.which?e.which:e.keyCode;if(_v1.indexOf(e.keyCode)>-1||(e.ctrlKey&&_v0.indexOf(_v3)>-1))return;if(!new RegExp(_v2,"i").test(String.fromCharCode(e.which)))return false;}};function _v6(e){var _v3=e.which?e.which:e.keyCode;if(e.ctrlKey&&_v0.indexOf(_v3)>-1)_v4(e);};function _v4(){if(_v2)scp.val=scp.val.replace(new RegExp("(?!"+_v2+").","g"),'');}});};ASJS.Button=function(){return createClass(this,ASJS.FormElement,["<input />"],function(scp,spr){scp.construct=function(){scp.setAttr("type","button");};prop(scp,"label",{get:function(){return scp.getAttr("value");},set:function(v){scp.setAttr("value",v);}});prop(scp,"submit",{get:function(){return scp.getAttr("type")=="submit";},set:function(v){scp.setAttr("type",v?"submit":"button");}});});};ASJS.Checkbox=function(){return createClass(this,ASJS.FormElement,["<label />"],function(scp,spr){var _v0=new ASJS.DisplayObject("<input />");var _v1=new ASJS.DisplayObject();scp.construct=function(){_v0.setAttr("type","checkbox");_v0.visible=false;scp.addChild(_v0);_v1.setSize("100%","100%");_v1.enabled=false;scp.addChild(_v1);};prop(scp,"label",{get:function(){return _v1;}});prop(scp,"checkbox",{get:function(){return _v0;}});prop(scp,"enabled",{set:function(v){spr.enabled=_v0.enabled=v;scp.drawNow();}});prop(scp,"name",{get:function(){return _v0.getAttr("name");},set:function(v){_v0.setAttr("name",v);}});prop(scp,"checked",{get:function(){return _v0.jQuery.is(":checked");},set:function(v){_v0.jQuery.prop("checked",v);_v0.jQuery.change();}});});};ASJS.DropDownOption=function(value,label,disabled,selected){return createClass(this,ASJS.PrimitiveDisplayObject,["<option />"],function(scp,spr){scp.construct=function(){scp.value=value||0;scp.label=label||"";scp.disabled=disabled||false;scp.selected=selected||false;};prop(scp,"value",{get:function(){return scp.getAttr("value");},set:function(v){scp.setAttr("value",v);}});prop(scp,"label",{get:function(){return scp.text;},set:function(v){scp.text=v;}});prop(scp,"selected",{get:function(){return scp.getAttr("selected");},set:function(v){if(v)scp.setAttr("selected","selected");else scp.removeAttr("selected");}});prop(scp,"disabled",{get:function(){return scp.getAttr("disabled");},set:function(v){if(v)scp.setAttr("disabled","disabled");else scp.removeAttr("disabled");}});});};ASJS.DropDown=function(){return createClass(this,ASJS.FormElement,null,function(scp,spr){var _v0=new ASJS.Sprite("<select />");scp.construct=function(){scp.setCSS("overflow","hidden");scp.addChild(_v0);};prop(scp,"select",{get:function(){return _v0;}});prop(scp,"enabled",{set:function(v){spr.enabled=_v0.enabled=v;scp.drawNow();}});prop(scp,"name",{get:function(){return _v0.getAttr("name");},set:function(v){_v0.setAttr("name",v);}});prop(scp,"val",{get:function(){return _v0.jQuery.val();},set:function(v){_v0.jQuery.val(v);}});scp.clearOptions=function(){_v0.html="";};scp.setOptions=function(options){scp.clearOptions();var i=-1;var l=options.length;while(++i<l)scp.addOption(options[i]);};scp.addOption=function(option){_v0.addChild(option);};scp.drawNow=function(){_v0.setSize(scp.width+30,scp.height);}});};ASJS.FileSelector=function(){return createClass(this,ASJS.FormElement,null,function(scp,spr){scp._fileInput=new ASJS.DisplayObject("<input />");var _v0=new ASJS.Sprite();scp.construct=function(){scp._fileInput.setAttr("type","file");scp._fileInput.addEventListener(ASJS.Event.CHANGE,scp._onChange);scp._fileInput.visible=false;scp.addChild(scp._fileInput);_v0.setSize("100%","100%");_v0.move(0,0);scp.addChild(_v0);scp.addEventListener(ASJS.MouseEvent.CLICK,_v1);};prop(scp,"preview",{get:function(){return _v0;}});prop(scp,"val",{get:function(){return scp._fileInput.jQuery.val();}});prop(scp,"fileInput",{get:function(){return _fileInput;}});prop(scp,"enabled",{set:function(v){spr.enabled=scp._fileInput.enabled=v;scp.drawNow();}});prop(scp,"name",{get:function(){return scp._fileInput.getAttr("name");},set:function(v){scp._fileInput.setAttr("name",v);}});scp._onChange=function(){_v0.text=scp.val;scp.dispatchEvent(ASJS.FileSelector.ON_CHANGE);};function _v1(e){if(e.target==scp._fileInput.el)return;scp._fileInput.jQuery.click();}});};cnst(ASJS.FileSelector,"ON_CHANGE","ASJS-FileSelector-onChange");ASJS.Form=function(){return createClass(this,ASJS.Sprite,["<form />"],function(scp,spr){scp.construct=function(){};prop(scp,"action",{get:function(){return scp.getAttr("action");},set:function(v){scp.setAttr("action",v);}});prop(scp,"method",{get:function(){return scp.getAttr("method");},set:function(v){scp.setAttr("method",v);}});prop(scp,"enctype",{get:function(){return scp.getAttr("enctype");},set:function(v){scp.setAttr("enctype",v);}});scp.reset=function(){scp.el.reset();};scp.submit=function(){scp.el.submit();}});};cnst(ASJS.Form,"ENCTYPE_MULTIPART","multipart/form-data");ASJS.ImageSelector=function(){return createClass(this,ASJS.FileSelector,null,function(scp,spr){var _v0=new FileReader();scp.construct=function(){_v0.onload=_v1;};scp._onChange=function(){var _v2=scp._fileInput.el;if(_v2.files&&_v2.files[0]){scp.dispatchEvent(ASJS.ImageSelector.ON_CHANGE_START);_v0.readAsDataURL(_v2.files[0]);}};function _v1(e){scp.preview.setCSS('background-image','url('+e.target.result+')');scp.dispatchEvent(ASJS.FileSelector.ON_CHANGE);}});};cnst(ASJS.ImageSelector,"ON_CHANGE_START","ASJS-ImageSelector-onChangeStart");ASJS.TextArea=function(){return createClass(this,ASJS.AbstractTextElement,["<textarea />"],function(scp,spr){scp.construct=function(){}});};ASJS.TextInput=function(){return createClass(this,ASJS.AbstractTextElement,["<input />"],function(scp,spr){scp.construct=function(){scp.type=ASJS.TextInput.TYPE_TEXT;};prop(scp,"type",{get:function(){return scp.getAttr("type");},set:function(v){scp.setAttr("type",v);}});});};cnst(ASJS.TextInput,"TYPE_TEXT","text");cnst(ASJS.TextInput,"TYPE_PASSWORD","password");cnst(ASJS.TextInput,"TYPE_EMAIL","email");cnst(ASJS.TextInput,"TYPE_NUMBER","number");ASJS.RadioButton=function(){return createClass(this,ASJS.FormElement,["<label />"],function(scp,spr){var _v1=new ASJS.DisplayObject("<input />");var _v0=new ASJS.DisplayObject();scp.construct=function(){_v1.setAttr("type","radio");_v1.visible=false;scp.addChild(_v1);_v0.setSize("100%","100%");_v0.enabled=false;scp.addChild(_v0);};prop(scp,"radio",{get:function(){return _v1;}});prop(scp,"enabled",{set:function(v){spr.enabled=_v1.enabled=v;scp.drawNow();}});prop(scp,"name",{get:function(){return _v1.getAttr("name");},set:function(v){_v1.setAttr("name",v);}});prop(scp,"checked",{get:function(){return _v1.jQuery.is(":checked");},set:function(v){_v1.jQuery.prop("checked",v);if(v)_v1.jQuery.change();}});prop(scp,"val",{get:function(){return _v1.getAttr("value");},set:function(v){_v1.setAttr("value",v);}});scp.drawNow=function(){};});};ASJS.AbstractFilter=function(){return createClass(this,Object,null,function(scp,spr){scp.construct=function(){};scp.execute=function(){}});};ASJS.ContrastFilter=function(value){return createClass(this,ASJS.AbstractFilter,null,function(scp,spr){scp.construct=function(){};scp.execute=function(){return"contrast("+value+"%)";}});};ASJS.InvertFilter=function(value){return createClass(this,ASJS.AbstractFilter,null,function(scp,spr){scp.construct=function(){};scp.execute=function(){return"invert("+value+"%)";}});};ASJS.BlurFilter=function(value){return createClass(this,ASJS.AbstractFilter,null,function(scp,spr){scp.construct=function(){};scp.execute=function(){return"blur("+value+"px)";}});};ASJS.GrayscaleFilter=function(value){return createClass(this,ASJS.AbstractFilter,null,function(scp,spr){scp.construct=function(){};scp.execute=function(){return"grayscale("+value+"%)";}});};ASJS.SaturateFilter=function(value){return createClass(this,ASJS.AbstractFilter,null,function(scp,spr){scp.construct=function(){};scp.execute=function(){return"saturate("+value+"%)";}});};ASJS.BrightnessFilter=function(value){return createClass(this,ASJS.AbstractFilter,null,function(scp,spr){scp.construct=function(){};scp.execute=function(){return"brightness("+value+"%)";}});};ASJS.HueRotateFilter=function(value){return createClass(this,ASJS.AbstractFilter,null,function(scp,spr){scp.construct=function(){};scp.execute=function(){return"hue-rotate("+value+"deg)";}});};ASJS.SepiaFilter=function(value){return createClass(this,ASJS.AbstractFilter,null,function(scp,spr){scp.construct=function(){};scp.execute=function(){return"sepia("+value+"%)";}});};ASJS.DropShadowFilter=function(h,v,blur,spread,color){return createClass(this,ASJS.AbstractFilter,null,function(scp,spr){scp.construct=function(){};scp.execute=function(){return"drop-shadow("+h+"px "+v+"px "+blur+"px "+spread+"px "+color+")";}});};ASJS.NotificationHandler=function(){return createSingletonClass(ASJS.NotificationHandler,this,Object,null,function(scp,spr){var _v0={};scp.construct=function(){};scp.register=function(dispatcher,handlers){if(!dispatcher||!handlers)return;var i=-1;var l=handlers.length;while(++i<l){var _v2=handlers[i];if(!_v0[_v2])_v0[_v2]=[];_v0[_v2].push(dispatcher);}};scp.remove=function(dispatcher){if(!dispatcher.handlers)return;var i=-1;var l=dispatcher.handlers.length;while(++i<l){var _v2=dispatcher.handlers[i];if(_v0[_v2]){var _v1=_v0[_v2].indexOf(dispatcher);if(_v1>-1)_v0[_v2].splice(_v1,1);}}};scp.sendNotification=function(_v2,data){if(!_v0[_v2])return;var i=-1;var l=_v0[_v2].length;while(++i<l){if(_v0[_v2][i]){_v0[_v2][i].reciveNotification(_v2,data);}else{_v0[_v2].splice(i,1);l--;}}}});};ASJS.NotificationDispatcher=function(){return createClass(this,Object,null,function(scp,spr){scp._handlers=[];var _v0=new ASJS.NotificationHandler();scp.construct=function(){_v1();};scp.destruct=function(){_v2();};scp.sendNotification=function(type,data){_v0.sendNotification(type,data);};scp.reciveNotification=function(type,data){};function _v1(){_v0.register(scp,scp._handlers);};function _v2(){_v0.remove(scp);}});};ASJS.AbstractCommand=function(){return createClass(this,ASJS.NotificationDispatcher,null,function(scp,spr){scp.construct=function(){};scp.execute=function(){}});};ASJS.AbstractMediator=function(view){return createClass(this,ASJS.NotificationDispatcher,null,function(scp,spr){scp._view=view;scp.construct=function(){}});};ASJS.AbstractModel=function(){return createClass(this,ASJS.EventDispatcher,null,function(scp,spr){var _v2={};cnst(_v2,"PREFIX","ASJS-AbstractModel-");var _v0={};scp.construct=function(){};prop(scp,"data",{get:function(){return _v0;},set:function(v){_v0=v;scp.dispatchEvent(ASJS.AbstractModel.CHANGED);}});scp.get=function(k){return _v0&&_v0[k]?_v0[k]:null;};scp.set=function(k,v){if(!_v0)_v0={};var o=_v0[k];_v0[k]=v;scp.dispatchEvent(ASJS.AbstractModel.CHANGED);scp.dispatchEvent(_v2.PREFIX+k,[o,v]);};scp.clear=function(){_v0=null;scp.dispatchEvent(ASJS.AbstractModel.CLEARED);};scp.watch=function(k,l){scp.addEventListener(_v2.PREFIX+k,l);};scp.merge=function(d){_v1(_v0,d);};function _v1(oData,nData){for(var nk in nData){if(typeof oData[nk]=="object")_v1(oData[nk],nData[nk]);else oData[nk]=nData[nk];}}});};cnst(ASJS.AbstractModel,"CHANGED","ASJS-AbstractModel-changed");cnst(ASJS.AbstractModel,"CLEARED","ASJS-AbstractModel-cleared");